{
  "version": 3,
  "sources": ["../src/custom-property.ts", "../src/common.ts", "../src/part-background.ts", "../src/part-navigation.ts", "../src/part-pagination.ts", "../src/part-indicator.ts", "../src/part-selector.ts", "../src/caption.ts", "../src/mount.ts", "../src/slide.ts", "../src/transition.ts", "../src/slider-simplex.ts"],
  "sourcesContent": ["/**\n * Custom Property Utilities\n *\n * @author Takuto Yanagida\n * @version 2025-03-26\n */\n\nexport function getStylePropertyBool(\n\telm: HTMLElement,\n\tprop: string,\n\tdef?: boolean\n): boolean;\n\nexport function getStylePropertyBool(\n\telm: HTMLElement,\n\tprop: string,\n\tdef: null\n): boolean | null;\n\nexport function getStylePropertyBool(elm: HTMLElement, prop: string, def: boolean | null = false): boolean | null {\n\tconst v: string = getPropValue(elm, prop);\n\tif (!v.length) return def;\n\tif (typeof v !== 'string') return Boolean(v);\n\ttry {\n\t\treturn true === JSON.parse(v.toLowerCase());\n\t} catch (e) {\n\t\treturn v.length !== 0;\n\t}\n}\n\nexport function getStylePropertyFloat(elm: HTMLElement, prop: string, def: number = 0): number {\n\tconst v: string = getPropValue(elm, prop);\n\tif (!v.length) return def;\n\treturn parseFloat(v);\n}\n\nexport function getStylePropertyString(elm: HTMLElement, prop: string, def: string = ''): string {\n\tconst v: string = getPropValue(elm, prop);\n\tif (!v.length) return def;\n\treturn (typeof v === 'string') ? v : String(v);\n}\n\nfunction getPropValue(elm: HTMLElement, prop: string): string {\n\tlet v: string = getComputedStyle(elm).getPropertyValue(prop).trim();\n\tif (('\"' === v.at(0) && '\"' === v.at(-1)) || (\"'\" === v.at(0) && \"'\" === v.at(-1))) {\n\t\tv = v.slice(1, -1);\n\t}\n\treturn v;\n}\n", "/**\n * Common Functions\n *\n * @author Takuto Yanagida\n * @version 2025-03-29\n */\n\nexport function wrapAround(n: number, size: number): number {\n\treturn size <= n ? n - size : (n < 0 ? size + n : n);\n}\n\nexport function snapToBinary(n: number, e: number = 0.0001): number {\n\tif (n < e)     return 0;\n\tif (1 - e < n) return 1;\n\treturn n;\n}\n\n\n// -----------------------------------------------------------------------------\n\n\nexport function detectTouch(elm: HTMLElement): void {\n\tif (0 < navigator.maxTouchPoints) {\n\t\telm.addEventListener('pointerenter', (e: PointerEvent): void => {\n\t\t\tconst isTouch: boolean = (e.pointerType !== 'mouse');\n\t\t\telm.classList[isTouch ? 'add' : 'remove']('touch');\n\t\t});\n\t}\n}\n\n\n// -----------------------------------------------------------------------------\n\n\nexport function repeatAnimationFrame(fn: (timestamp: number, deltaTime: number) => void): void {\n\tlet tl: number = 0;\n\tconst cb: FrameRequestCallback = (t: number): void => {\n\t\tif (tl !== 0) {\n\t\t\tfn(t, t - tl);\n\t\t}\n\t\ttl = t;\n\t\twindow.requestAnimationFrame(cb);\n\t}\n\twindow.requestAnimationFrame(cb);\n\n}\n\nexport function callAfterDocumentReady(fn: () => void): void {\n\tif ('loading' === document.readyState) {\n\t\tdocument.addEventListener('DOMContentLoaded', fn);\n\t} else {\n\t\tsetTimeout(fn, 0);\n\t}\n}\n\n\n// -----------------------------------------------------------------------------\n\n\nexport function initializeViewportDetection(root: HTMLElement, cls: string, offset: number): void {\n\tconst io = new IntersectionObserver((es: IntersectionObserverEntry[]): void => {\n\t\tfor (const e of es) {\n\t\t\troot.classList[e.isIntersecting ? 'add' : 'remove'](cls);\n\t\t}\n\t}, { rootMargin: `${offset}px 0px` });\n\tio.observe(root);\n\n\tdocument.addEventListener('visibilitychange', (): void => {\n\t\tconst v: boolean = ('hidden' !== document.visibilityState);\n\t\tif (v) {\n\t\t\tconst r: DOMRect = root.getBoundingClientRect();\n\t\t\tconst h: number  = window.innerHeight;\n\t\t\tif ((0 < r.top && r.top < h) || (0 < r.bottom && r.bottom < h)) {\n\t\t\t\troot.classList.add(cls);\n\t\t\t}\n\t\t} else {\n\t\t\troot.classList.remove(cls);\n\t\t}\n\t});\n}\n\n\n// -----------------------------------------------------------------------------\n\n\nexport function waitForAllImages(is: HTMLImageElement[]): Promise<boolean> {\n\treturn Promise.all(\n\t\tis.map((i: HTMLImageElement): Promise<void> => {\n\t\t\tif (i.complete && i.naturalWidth !== 0) {\n\t\t\t\treturn Promise.resolve();\n\t\t\t}\n\t\t\treturn new Promise<void>((resolve, reject) => {\n\t\t\t\ti.addEventListener('load', (): void => resolve(), { once: true });\n\t\t\t\ti.addEventListener('error', (): void => reject(new Error('Image failed to load')), { once: true });\n\t\t\t});\n\t\t})\n\t).then(\n\t\t(): boolean => true,\n\t\t(): boolean => false\n\t);\n}\n\nexport function waitForAllVideos(vs: HTMLVideoElement[]): Promise<boolean> {\n\treturn Promise.all(\n\t\tvs.map((v: HTMLVideoElement): Promise<void> => {\n\t\t\tif (v.readyState >= 1) {  // HAVE_METADATA\n\t\t\t\treturn Promise.resolve();\n\t\t\t}\n\t\t\treturn new Promise<void>((resolve, reject) => {\n\t\t\t\tv.addEventListener('loadedmetadata', (): void => resolve(), { once: true });\n\t\t\t\tv.addEventListener('error', (): void => reject(new Error('Video failed to load metadata')), { once: true });\n\t\t\t});\n\t\t})\n\t).then(\n\t\t(): boolean => true,\n\t\t(): boolean => false\n\t);\n}\n", "/**\n * Backgrounds\n *\n * @author Takuto Yanagida\n * @version 2025-03-13\n */\n\nconst CLS_BG      = 'background';\nconst CLS_VISIBLE = 'visible';\n\nexport class Background {\n\n\t#bs: HTMLElement[] = [];\n\n\tconstructor(root: HTMLElement, lis: HTMLElement[]) {\n\t\tconst base: HTMLElement = document.createElement('div');\n\t\tbase.classList.add(CLS_BG);\n\t\troot.insertBefore(base, root.firstChild);\n\n\t\tfor (const li of lis) {\n\t\t\tlet bg: HTMLElement;\n\n\t\t\tconst img: HTMLElement = li.querySelector('img') as HTMLElement;\n\t\t\tif (img) {\n\t\t\t\tbg = img.cloneNode(false) as HTMLElement;\n\t\t\t} else {\n\t\t\t\tbg = document.createElement('div');\n\t\t\t}\n\t\t\tbase.appendChild(bg);\n\t\t\tthis.#bs.push(bg);\n\t\t}\n\t}\n\n\ttransition(i: number): void {\n\t\tfor (const r of this.#bs) {\n\t\t\tr.classList.remove(CLS_VISIBLE);\n\t\t}\n\t\tif (this.#bs[i]) {\n\t\t\tthis.#bs[i].classList.add(CLS_VISIBLE);\n\t\t}\n\t}\n\n}\n", "/**\n * Navigation Buttons\n *\n * @author Takuto Yanagida\n * @version 2025-03-28\n */\n\nconst CLS_NAVIGATION = 'navigation';\nconst CLS_ACTIVE     = 'active';\n\nconst DX_FLICK: number = 32;\n\ntype Fn = (idx: number, dir: -1 | 0 | 1) => void;\n\nexport class Navigation {\n\n\t#fs!: (() => void)[];\n\t#bs!: HTMLElement[];\n\n\tconstructor(root: HTMLElement, timeTran: number, fn: Fn, forced: boolean = true) {\n\t\tlet base: HTMLElement = root.querySelector('.' + CLS_NAVIGATION) as HTMLElement;\n\t\tif (!base && forced) {\n\t\t\tbase = document.createElement('div');\n\t\t\tbase.classList.add(CLS_NAVIGATION);\n\t\t\troot.appendChild(base);\n\t\t}\n\t\tif (!base) {\n\t\t\treturn;\n\t\t}\n\t\tthis.#fs = [\n\t\t\t(): void => fn(-1, -1),\n\t\t\t(): void => fn(-1,  1),\n\t\t];\n\t\tthis.#bs = this.createButtons(base);\n\n\t\tbase.addEventListener('mouseenter', (): void => this.setActive(!root.classList.contains('touch')));\n\t\tbase.addEventListener('mouseleave', (): void => this.setActive(false));\n\n\t\tthis.initializeFlick(root, timeTran * 1000 / 2);\n\t}\n\n\tprivate createButtons(base: HTMLElement): HTMLElement[] {\n\t\tlet bs: HTMLElement[] = base.querySelectorAll(':scope > button') as any as HTMLElement[];\n\t\tif (bs.length !== 2) {\n\t\t\tconst b0: HTMLElement = document.createElement('button');\n\t\t\tconst b1: HTMLElement = document.createElement('button');\n\t\t\tbase.appendChild(b0);\n\t\t\tbase.appendChild(b1);\n\t\t\tbs = [b0, b1];\n\t\t}\n\t\tfor (let i: number = 0; i < 2; i += 1) {\n\t\t\tbs[i].classList.add(CLS_NAVIGATION);\n\t\t\tbs[i].addEventListener('click', (): void => this.doClick(i));\n\t\t}\n\t\treturn bs;\n\t}\n\n\tprivate doClick(dir: number): void {\n\t\tthis.#fs[dir]();\n\t}\n\n\tprivate setActive(flag: boolean): void {\n\t\tthis.#bs[0].classList[flag ? 'add' : 'remove'](CLS_ACTIVE);\n\t\tthis.#bs[1].classList[flag ? 'add' : 'remove'](CLS_ACTIVE);\n\t}\n\n\tprivate initializeFlick(base: HTMLElement, delay: number): void {\n\t\tconst sts: number[] = [0, 0];\n\t\tlet px: number = Number.NaN;\n\n\t\tbase.addEventListener('touchstart', (e: TouchEvent): void => {\n\t\t\tpx = e.touches[0].pageX;\n\t\t});\n\t\tbase.addEventListener('touchmove', (e: TouchEvent): void => {\n\t\t\tconst dir: number = this.getFlickDir(px, e);\n\t\t\tif (dir !== -1) {\n\t\t\t\tif (true === e.cancelable) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t}\n\t\t\t\tthis.#fs[dir]();\n\t\t\t\tif (this.#bs[dir]) {\n\t\t\t\t\tclearTimeout(sts[dir]);\n\t\t\t\t\tthis.#bs[dir].classList.add(CLS_ACTIVE);\n\t\t\t\t\tsts[dir] = setTimeout((): void => this.#bs[dir].classList.remove(CLS_ACTIVE), delay);\n\t\t\t\t}\n\t\t\t\tpx = Number.NaN;\n\t\t\t}\n\t\t});\n\t\tbase.addEventListener('touchend', (): void => {\n\t\t\tpx = Number.NaN;\n\t\t});\n\t}\n\n\tprivate getFlickDir(px: number, e: TouchEvent): number {\n\t\tif (Number.isNaN(px)) return -1;\n\t\tconst x: number = e.changedTouches[0].pageX;\n\n\t\tif (px + DX_FLICK < x) return 0;  // ->\n\t\tif (x < px - DX_FLICK) return 1;  // <-\n\t\treturn -1;\n\t}\n\n}\n", "/**\n * Pagination\n *\n * @author Takuto Yanagida\n * @version 2025-03-22\n */\n\nconst CLS_PAGINATION = 'pagination';\nconst CLS_VISIBLE    = 'visible';\n\ntype Fn = (idx: number, dir: -1 | 0 | 1) => void;\n\nexport class Pagination {\n\n\t#rs: HTMLElement[] = [];\n\n\tconstructor(root: HTMLElement, size: number, fn: Fn, forced: boolean = true) {\n\t\tlet base: HTMLElement = root.querySelector('.' + CLS_PAGINATION) as HTMLElement;\n\t\tif (!base && forced) {\n\t\t\tbase = document.createElement('div');\n\t\t\tbase.classList.add(CLS_PAGINATION);\n\t\t\troot.appendChild(base);\n\t\t}\n\t\tif (!base) {\n\t\t\treturn;\n\t\t}\n\t\tconst e: HTMLElement = this.createElement(base);\n\t\tconst dir = size === 2 ? 1 : 0;\n\t\tfor (let i: number = 0; i < size; i += 1) {\n\t\t\te.appendChild(this.createBullet(fn, i, dir));\n\t\t}\n\t}\n\n\tprivate createElement(base: HTMLElement): HTMLElement {\n\t\tlet e: HTMLElement | null = base.querySelector(':scope > ol') as HTMLElement | null;\n\t\tif (!e) {\n\t\t\te = document.createElement('ol');\n\t\t\tbase.appendChild(e);\n\t\t}\n\t\treturn e;\n\t}\n\n\tprivate createBullet(fn: Fn, i: number, dir: -1 | 0 | 1): HTMLElement {\n\t\tconst r: HTMLElement = document.createElement('li');\n\t\tr.addEventListener('click', (): void => fn(i, dir));\n\t\tthis.#rs.push(r);\n\t\treturn r;\n\t}\n\n\ttransition(i: number): void {\n\t\tfor (const r of this.#rs) {\n\t\t\tr.classList.remove(CLS_VISIBLE);\n\t\t}\n\t\tif (this.#rs[i]) {\n\t\t\tthis.#rs[i].classList.add(CLS_VISIBLE);\n\t\t}\n\t}\n\n}\n", "/**\n * Indicators\n *\n * @author Takuto Yanagida\n * @version 2025-03-13\n */\n\nconst CLS_SLIDE_CNT = 'slide-count';\nconst CLS_SLIDE_IDX = 'slide-index';\n\nexport class Indicator {\n\n\t#ies: HTMLElement[] = [];\n\n\tconstructor(root: HTMLElement, size: number) {\n\t\tconst ces = root.querySelectorAll('.' + CLS_SLIDE_CNT) as any as HTMLElement[];\n\t\tfor (const elm of ces) {\n\t\t\telm.innerHTML = '' + size;\n\t\t}\n\t\tthis.#ies = root.querySelectorAll('.' + CLS_SLIDE_IDX) as any as HTMLElement[];\n\t\tfor (const elm of this.#ies) {\n\t\t\telm.innerHTML = '' + 1;\n\t\t}\n\t}\n\n\ttransition(idx: number): void {\n\t\tfor (const e of this.#ies) {\n\t\t\te.innerHTML = '' + (idx + 1);\n\t\t}\n\t}\n}\n", "/**\n * Thumbnails\n *\n * @author Takuto Yanagida\n * @version 2025-03-22\n */\n\nconst CLS_SELECTOR = 'selector';\nconst CLS_VISIBLE  = 'visible';\n\ntype Fn = (idx: number, dir: -1 | 0 | 1) => void;\n\nexport class Selector {\n\n\t#ts: HTMLElement[] = [];\n\n\tconstructor(root: HTMLElement, lis: HTMLElement[], size: number, fn: Fn, forced: boolean = true) {\n\t\tlet base: HTMLElement = root.querySelector('.' + CLS_SELECTOR) as HTMLElement;\n\t\tif (!base && forced) {\n\t\t\tbase = document.createElement('div');\n\t\t\tbase.classList.add(CLS_SELECTOR);\n\t\t\troot.appendChild(base);\n\t\t}\n\t\tif (!base) {\n\t\t\treturn;\n\t\t}\n\t\tconst e: HTMLElement = this.createElement(base);\n\t\tconst dir = size === 2 ? 1 : 0;\n\t\tfor (let i: number = 0; i < size; i += 1) {\n\t\t\te.appendChild(this.createThumbnail(lis[i], fn, i, dir));\n\t\t}\n\t}\n\n\tprivate createElement(base: HTMLElement): HTMLElement {\n\t\tlet e: HTMLElement | null = base.querySelector(':scope > ol') as HTMLElement | null;\n\t\tif (!e) {\n\t\t\te = document.createElement('ol');\n\t\t\tbase.appendChild(e);\n\t\t}\n\t\treturn e;\n\t}\n\n\tprivate createThumbnail(li: HTMLElement, fn: Fn, i: number, dir: -1 | 0 | 1): HTMLElement {\n\t\tconst r: HTMLElement = document.createElement('li');\n\n\t\tlet th: HTMLElement;\n\t\tconst img: HTMLElement = li.querySelector('img') as HTMLElement;\n\t\tif (img) {\n\t\t\tth = img.cloneNode(false) as HTMLElement;\n\t\t} else {\n\t\t\tth = document.createElement('div');\n\t\t}\n\t\tr.appendChild(th);\n\n\t\tr.addEventListener('click', (): void => fn(i, dir));\n\t\tthis.#ts.push(r);\n\t\treturn r;\n\t}\n\n\ttransition(i: number): void {\n\t\tfor (const r of this.#ts) {\n\t\t\tr.classList.remove(CLS_VISIBLE);\n\t\t}\n\t\tif (this.#ts[i]) {\n\t\t\tthis.#ts[i].classList.add(CLS_VISIBLE);\n\t\t}\n\t}\n\n}\n", "/**\n * Caption\n *\n * @author Takuto Yanagida\n * @version 2025-03-26\n */\n\nconst CLS_CAPTION = 'caption';\n\nconst CLS_SUBTITLE = 'subtitle';\nconst CLS_CIRCLE   = 'circle';\nconst CLS_LINE     = 'line';\nconst CLS_CUSTOM   = 'custom';\n\nconst DS_KEY_STATE = 'state';\n\nexport class Caption {\n\n\tstatic create(li: HTMLElement): Caption | null {\n\t\tconst elm: HTMLElement | null = li.querySelector(':scope > div, :scope > a > div');\n\t\tif (elm) {\n\t\t\t return new Caption(elm as HTMLElement);\n\t\t}\n\t\treturn null;\n\t}\n\n\t#base: HTMLElement;\n\t#type: string = CLS_SUBTITLE;\n\n\tconstructor(base: HTMLElement) {\n\t\tthis.#base = base;\n\n\t\tif (!base.classList.contains(CLS_CAPTION)) {\n\t\t\tbase.classList.add(CLS_CAPTION);\n\t\t}\n\t\tif (!base.classList.contains(CLS_LINE) && !base.classList.contains(CLS_CIRCLE) && !base.classList.contains(CLS_CUSTOM)) {\n\t\t\tbase.classList.add(CLS_SUBTITLE);\n\t\t}\n\t\tif (base.classList.contains(CLS_LINE))     this.#type = CLS_LINE;\n\t\tif (base.classList.contains(CLS_CIRCLE))   this.#type = CLS_CIRCLE;\n\t\tif (base.classList.contains(CLS_SUBTITLE)) this.#type = CLS_SUBTITLE;\n\t\tif (base.classList.contains(CLS_CUSTOM))   this.#type = CLS_CUSTOM;\n\n\t\tthis.wrap(base);\n\t\tfor (const d of base.querySelectorAll(':scope > div')) {\n\t\t\tthis.wrapWithSpan(d as HTMLElement);\n\t\t}\n\t}\n\n\tprivate wrap(elm: HTMLElement): void {\n\t\tconst ns: Node[] = [];\n\n\t\tfor (const n of Array.from(elm.childNodes)) {\n\t\t\tif (1 === n.nodeType) {  // ELEMENT_NODE\n\t\t\t\tif ('DIV' === (n as Element).tagName) {\n\t\t\t\t\tthis.wrapAndReplaceNodes(elm, ns, n);\n\t\t\t\t} else if ('BR' === (n as Element).tagName) {\n\t\t\t\t\tthis.wrapAndReplaceNodes(elm, ns, n);\n\t\t\t\t\telm.removeChild(n);\n\t\t\t\t} else {\n\t\t\t\t\tns.push(n);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tconst str: string = (n as Text).nodeValue?.trim() ?? '';\n\t\t\t\tif (str.length) {\n\t\t\t\t\tns.push(n);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tthis.wrapAndReplaceNodes(elm, ns, null);\n\t}\n\n\tprivate wrapAndReplaceNodes(e: Node, cs: Node[], ref: Node | null): void {\n\t\tif (cs.length) {\n\t\t\tconst div: HTMLElement = document.createElement('div');\n\t\t\tfor (const c of cs) {\n\t\t\t\tdiv.appendChild(e.removeChild(c));\n\t\t\t}\n\t\t\te.insertBefore(div, ref);\n\t\t\tcs.length = 0;\n\t\t}\n\t}\n\n\tprivate wrapWithSpan(e: HTMLElement): void {\n\t\tconst span: HTMLElement = document.createElement('span');\n\t\tfor (const c of Array.from(e.childNodes)) {\n\t\t\tspan.appendChild(e.removeChild(c));\n\t\t}\n\t\tspan.innerHTML = span.innerHTML.trim();\n\t\te.appendChild(span);\n\t}\n\n\tonStateChanged(state: string, _prev: string): void {\n\t\tthis.#base.dataset[DS_KEY_STATE] = state;\n\t}\n\n\tonResize(): void {\n\t\tif (window.innerWidth < 600) {\n\t\t\tthis.#base.classList.remove(this.#type);\n\t\t\tthis.#base.classList.add(CLS_SUBTITLE);\n\t\t} else {\n\t\t\tthis.#base.classList.remove(CLS_SUBTITLE);\n\t\t\tthis.#base.classList.add(this.#type);\n\t\t}\n\t}\n\n}\n", "/**\n * Mount\n *\n * @author Takuto Yanagida\n * @version 2025-03-29\n */\n\nimport { waitForAllImages, waitForAllVideos } from \"./common\";\n\nconst CLS_IMAGE = 'image';\nconst CLS_VIDEO = 'video';\n\nconst CLS_SCROLL = 'scroll';\nconst CLS_DUAL   = 'dual';\n\nconst DS_KEY_STATE = 'state';\n\nexport abstract class Mount {\n\n\tprotected base: HTMLElement;\n\n\tconstructor(li: HTMLElement) {\n\t\tthis.base = document.createElement('div');\n\t\tconst e: HTMLElement = li.querySelector('a') ?? li;\n\t\te.insertBefore(this.base, e.firstChild);\n\t}\n\n\tabstract isLoaded(): Promise<boolean>;\n\n\tonStateChanged(state: string, _prev: string): void {\n\t\tthis.base.dataset[DS_KEY_STATE] = state;\n\t}\n\n\tgetDuration(timeDur: number, _timeTran: number, _randomRate: number): number {\n\t\treturn timeDur;\n\t}\n\n}\n\n\n// -----------------------------------------------------------------------------\n\n\nexport class MountImage extends Mount {\n\n\t#isLoaded: Promise<boolean> | null = null;\n\n\tconstructor(li: HTMLElement) {\n\t\tsuper(li);\n\t\tthis.base.classList.add(CLS_IMAGE);\n\n\t\tif (li.classList.contains(CLS_SCROLL)) {\n\t\t\tthis.base.classList.add(CLS_SCROLL);\n\t\t}\n\n\t\tconst is: HTMLImageElement[] = Array.from(li.querySelectorAll(':scope > img, :scope > a > img'));\n\t\tif (is.length) {\n\t\t\tthis.base.appendChild(is[0]);\n\t\t\tif (1 < is.length) {\n\t\t\t\tthis.base.classList.add(CLS_DUAL);\n\t\t\t\tthis.base.appendChild(is[1]);\n\t\t\t}\n\t\t\tthis.#isLoaded = waitForAllImages(is);\n\t\t}\n\t}\n\n\tasync isLoaded(): Promise<boolean> {\n\t\tif (this.#isLoaded) {\n\t\t\treturn this.#isLoaded;\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tgetDuration(timeDur: number, _timeTran: number, randomRate: number = 0): number {\n\t\tif (randomRate) {\n\t\t\tconst f: number = (1 + 0.01 * randomRate * (1 - Math.random() * 2));\n\t\t\treturn timeDur * f;\n\t\t}\n\t\treturn timeDur;\n\t}\n\n}\n\n\n// -----------------------------------------------------------------------------\n\n\nexport class MountVideo extends Mount {\n\n\t#video!  : HTMLVideoElement;\n\t#isLoaded: Promise<boolean> | null = null;\n\n\tconstructor(li: HTMLElement, totalSize: number) {\n\t\tsuper(li);\n\t\tthis.base.classList.add(CLS_VIDEO);\n\n\t\tconst vs: HTMLVideoElement[] = Array.from(li.querySelectorAll(':scope > video, :scope > a > video'));\n\t\tif (1 === vs.length) {\n\t\t\tconst v: HTMLVideoElement = vs[0];\n\t\t\tv.muted       = true;\n\t\t\tv.playsInline = true;\n\t\t\tif (totalSize === 1) {\n\t\t\t\tv.loop = true;\n\t\t\t}\n\t\t\tthis.#video = v;\n\t\t\tthis.base.appendChild(v);\n\t\t\tthis.#isLoaded = waitForAllVideos([v]);\n\t\t}\n\t}\n\n\tasync isLoaded(): Promise<boolean> {\n\t\tif (this.#isLoaded) {\n\t\t\treturn this.#isLoaded;\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tonStateChanged(state: string, prev: string): void {\n\t\tsuper.onStateChanged(state, prev);\n\n\t\tif (prev === '' && (state === 'in' || state === 'display')) {\n\t\t\tif (this.#video.paused) {\n\t\t\t\tthis.#video.autoplay = true;\n\t\t\t\tthis.#video.play();\n\t\t\t}\n\t\t}\n\t\tif (prev === 'out' && state === '') {\n\t\t\tif (!this.#video.paused) {\n\t\t\t\tthis.#video.pause();\n\t\t\t\tthis.#video.currentTime = 0;\n\t\t\t}\n\t\t}\n\t}\n\n\tgetDuration(_timeDur: number, timeTran: number, _randomRate: number): number {\n\t\treturn this.#video.duration - timeTran * 2;\n\t}\n\n}\n", "/**\n * Slide\n *\n * @author Takuto Yanagida\n * @version 2025-03-26\n */\n\nimport { Caption } from './caption';\nimport { Mount, MountImage, MountVideo } from './mount';\n\nconst DS_KEY_STATE = 'state';\n\nexport class Slide {\n\n\t#li : HTMLElement;\n\t#idx: number;\n\t#mnt: Mount;\n\t#cap: Caption | null;\n\n\tconstructor(li: HTMLElement, idx: number, totalSize: number) {\n\t\tthis.#li  = li;\n\t\tthis.#idx = idx;\n\n\t\tthis.#cap = Caption.create(li);\n\t\tif (li.querySelector(':scope > video, :scope > a > video')) {\n\t\t\tthis.#mnt  = new MountVideo(li, totalSize);\n\t\t} else {\n\t\t\tthis.#mnt  = new MountImage(li);\n\t\t}\n\t}\n\n\tgetBase(): HTMLElement {\n\t\treturn this.#li;\n\t}\n\n\tgetIndex(): number {\n\t\treturn this.#idx;\n\t}\n\n\tsetState(state: string): void {\n\t\tconst prev: string = this.#li.dataset?.[DS_KEY_STATE] ?? '';\n\t\tif (prev === state) return;\n\n\t\tthis.#li.dataset[DS_KEY_STATE] = state;\n\t\tthis.#mnt.onStateChanged(state, prev);\n\t\tif (this.#cap) {\n\t\t\tthis.#cap.onStateChanged(state, prev);\n\t\t}\n\t}\n\n\tonResize(): void {\n\t\tif (this.#cap) this.#cap.onResize();\n\t}\n\n\tisLoaded(): Promise<boolean> {\n\t\treturn this.#mnt.isLoaded();\n\t}\n\n\tgetDuration(timeDur: number, timeTran: number, randomRate: number): number {\n\t\treturn this.#mnt.getDuration(timeDur, timeTran, randomRate);\n\t}\n\n}\n", "/**\n * Transition\n *\n * @author Takuto Yanagida\n * @version 2025-03-29\n */\n\nimport { repeatAnimationFrame, wrapAround, snapToBinary } from './common';\nimport { Slide } from './slide';\n\nconst S_DISPLAY = 'display';\nconst S_IN      = 'in';\nconst S_OUT     = 'out';\n\nconst CP_MOTION     = '--m';\nconst CP_VISIBILITY = '--v';\n\nexport abstract class Transition {\n\n\tabstract transition(_idx: number, _dir: number): void;\n\n\tabstract isTransitioning(): boolean;\n\n}\n\ntype Item = {\n\ts: Slide,\n\tm: number,\n\tv: number,\n};\n\n\n// -----------------------------------------------------------------------------\n\n\nexport class TransitionFade extends Transition {\n\n\t#its            : Item[];\n\t#current        : number = 0;\n\t#beforeFirstStep: boolean = false;\n\n\tconstructor(ss: Slide[], tranTime: number) {\n\t\tsuper();\n\n\t\tthis.#its = this.createItems(ss);\n\n\t\tthis.update();\n\t\trepeatAnimationFrame((_t: number, dt: number): void => this.step(dt, tranTime));\n\t}\n\n\tprivate createItems(ss: Slide[]): Item[] {\n\t\tconst its: Item[] = [];\n\n\t\tfor (let i: number = 0; i < ss.length; i += 1) {\n\t\t\tits.push({\n\t\t\t\ts: ss[i],\n\t\t\t\tm: 0,\n\t\t\t\tv: i === 0 ? 1 : 0,\n\t\t\t});\n\t\t}\n\t\treturn its;\n\t}\n\n\tprivate update(): void {\n\t\tfor (const it of this.#its) {\n\t\t\tit.s.getBase().style.setProperty(CP_VISIBILITY, `${(it.v * 100).toFixed(2)}%`);\n\t\t}\n\t}\n\n\ttransition(idx: number, _dir: number): void {\n\t\tthis.#current         = idx;\n\t\tthis.#beforeFirstStep = true;\n\t}\n\n\tisTransitioning(): boolean {\n\t\tif (this.#beforeFirstStep) {\n\t\t\treturn true;\n\t\t}\n\t\tfor (const it of this.#its) {\n\t\t\tif (it.s.getIndex() === this.#current) {\n\t\t\t\tif (it.v < 1) return true;\n\t\t\t} else {\n\t\t\t\tif (0 < it.v) return true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n\n\tprivate step(dt: number, tranTime: number): void {\n\t\tthis.#beforeFirstStep = false;\n\n\t\tconst r: number = dt / (tranTime * 1000);\n\t\tfor (const it of this.#its) {\n\t\t\tconst isCur: boolean = it.s.getIndex() === this.#current;\n\t\t\tif (isCur) {\n\t\t\t\tit.v = Math.min(1, it.v + r);\n\t\t\t} else {\n\t\t\t\tit.v = Math.max(0, it.v - r);\n\t\t\t}\n\t\t\tit.v = snapToBinary(it.v);\n\t\t\tit.s.setState(this.getState(isCur, it.v));\n\t\t}\n\t\tthis.update();\n\t}\n\n\tprivate getState(isCur: boolean, v: number): string {\n\t\tif (isCur && 0 < v && v < 1) return S_IN;\n\t\tif (!isCur && 0 < v && v < 1) return S_OUT;\n\t\tif (v === 1) return S_DISPLAY;\n\t\treturn '';\n\t}\n\n}\n\n\n// -----------------------------------------------------------------------------\n\n\nexport class TransitionSlide extends Transition {\n\n\t#its            : Item[];\n\t#current        : number = 0;\n\t#beforeFirstStep: boolean = false;\n\n\tconstructor(ss: Slide[], tranTime: number) {\n\t\tsuper();\n\n\t\tthis.#its = this.createItems(ss);\n\n\t\tthis.update();\n\t\trepeatAnimationFrame((_t: number, dt: number): void => this.step(dt, tranTime));\n\t}\n\n\tprivate createItems(ss: Slide[]): Item[] {\n\t\tconst its: Item[] = [];\n\n\t\tfor (let i: number = 0; i < ss.length; i += 1) {\n\t\t\tits.push({\n\t\t\t\ts: ss[i],\n\t\t\t\tm: i === 0 ? 0 : 1,\n\t\t\t\tv: 0,\n\t\t\t});\n\t\t}\n\t\treturn its;\n\t}\n\n\tprivate update(): void {\n\t\tfor (const it of this.#its) {\n\t\t\tit.s.getBase().style.setProperty(CP_MOTION,     `${(it.m * 100).toFixed(2)}%`);\n\t\t\tit.s.getBase().style.setProperty(CP_VISIBILITY, `${(it.v * 100).toFixed(2)}%`);\n\t\t}\n\t}\n\n\ttransition(idx: number, _dir: number): void {\n\t\tthis.#current         = idx;\n\t\tthis.#beforeFirstStep = true;\n\t}\n\n\tisTransitioning(): boolean {\n\t\tif (this.#beforeFirstStep) {\n\t\t\treturn true;\n\t\t}\n\t\tfor (const it of this.#its) {\n\t\t\tif (it.s.getIndex() <= this.#current) {\n\t\t\t\tif (0 < it.m) return true;\n\t\t\t} else {\n\t\t\t\tif (it.m < 1) return true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n\n\tprivate step(dt: number, tranTime: number): void {\n\t\tthis.#beforeFirstStep = false;\n\n\t\tconst r: number = dt / (tranTime * 1000);\n\t\tfor (const it of this.#its) {\n\t\t\tlet l: number = r;\n\t\t\tif (this.#current === it.s.getIndex() && Math.abs(it.m) < 0.1) {\n\t\t\t\tl = r * Math.sin(Math.abs(it.m) * 10 * (Math.PI / 2));\n\t\t\t}\n\t\t\tif (this.#current !== it.s.getIndex() && Math.abs(it.m) > 0.9) {\n\t\t\t\tl = r * Math.sin(Math.abs(1 - it.m) * 10 * (Math.PI / 2));\n\t\t\t}\n\t\t\tif (it.s.getIndex() <= this.#current) {\n\t\t\t\tit.m = Math.max(0, it.m - l);\n\t\t\t} else {\n\t\t\t\tit.m = Math.min(1, it.m + l);\n\t\t\t}\n\t\t\tit.m = snapToBinary(it.m);\n\t\t}\n\t\tlet isTransitioning: boolean = false;\n\t\tlet maxArea: number = 0;\n\t\tfor (let i: number = this.#its.length - 1; 0 <= i; i -= 1) {\n\t\t\tconst it: Item = this.#its[i];\n\t\t\tif (0 < it.m && it.m < 1) {\n\t\t\t\tisTransitioning = true;\n\t\t\t}\n\t\t\tconst isCur: boolean = it.s.getIndex() === this.#current;\n\t\t\tit.s.setState(this.getState(isCur, it.m, isTransitioning));\n\n\t\t\tconst a: number = 1 - it.m;\n\t\t\tif (maxArea < a) {\n\t\t\t\tit.v    = snapToBinary(a - maxArea);\n\t\t\t\tmaxArea = a;\n\t\t\t} else {\n\t\t\t\tit.v = 0;\n\t\t\t}\n\t\t}\n\t\tthis.update();\n\t}\n\n\tprivate getState(isCur: boolean, v: number, isTransitioning: boolean): string {\n\t\tif (isCur && isTransitioning) return S_IN;\n\t\tif (!isCur && isTransitioning) return S_OUT;\n\t\tif (isCur && !isTransitioning && v === 0) return S_DISPLAY;\n\t\treturn '';\n\t}\n\n}\n\n\n// -----------------------------------------------------------------------------\n\n\nexport class TransitionScroll extends Transition {\n\n\t#its    : Item[];\n\t#current: number = 0;\n\t#shift  : number = 0;\n\t#speed  : number = 0;\n\n\t#sideSize: number = 2;\n\n\tconstructor(ss: Slide[], tranTime: number) {\n\t\tsuper();\n\n\t\tthis.#its = this.createItems(ss);\n\n\t\tthis.update();\n\t\trepeatAnimationFrame((_t: number, dt: number): void => this.step(dt, tranTime));\n\t}\n\n\tprivate createItems(ss: Slide[]): Item[] {\n\t\tconst its: Item[] = [];\n\t\tconst off: number = Math.floor(ss.length / 2);\n\n\t\tfor (let i: number = 0; i < ss.length; i += 1) {\n\t\t\tits.push({\n\t\t\t\ts: ss.at(i - off) as Slide,\n\t\t\t\tm: i - off,\n\t\t\t\tv: 0,\n\t\t\t});\n\t\t}\n\t\treturn its;\n\t}\n\n\tprivate update(): void {\n\t\tfor (const it of this.#its) {\n\t\t\tit.s.getBase().style.setProperty(CP_MOTION,     `${(it.m * 100).toFixed(2)}%`);\n\t\t\tit.s.getBase().style.setProperty(CP_VISIBILITY, `${(it.v * 100).toFixed(2)}%`);\n\t\t}\n\t}\n\n\ttransition(idx: number, dir: number): void {\n\t\tthis.#current = idx;\n\t\tlet off: number = this.getCurrent();\n\n\t\tlet minDx: number = Number.MAX_VALUE;\n\t\tlet tar: Item | null= null;\n\n\t\tif (0 <= dir) {\n\t\t\tfor (let i: number = 0; i < this.#its.length; i += 1) {\n\t\t\t\tconst it = this.#its.at(wrapAround(i + off, this.#its.length)) as Item;\n\t\t\t\tif (it.s.getIndex() === idx && (dir === 0 || 0 < it.m) && Math.abs(it.m) < minDx) {\n\t\t\t\t\tminDx = Math.abs(it.m);\n\t\t\t\t\ttar   = it;\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (dir < 0) {\n\t\t\tfor (let i: number = this.#its.length - 1; 0 <= i; i -= 1) {\n\t\t\t\tconst it = this.#its.at(wrapAround(i + off, this.#its.length)) as Item;\n\t\t\t\tif (it.s.getIndex() === idx && it.m < 0 && Math.abs(it.m) < minDx) {\n\t\t\t\t\tminDx = Math.abs(it.m);\n\t\t\t\t\ttar   = it;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (!tar) {\n\t\t\tfor (let i: number = 0; i < this.#its.length; i += 1) {\n\t\t\t\tconst it = this.#its.at(wrapAround(i + off, this.#its.length)) as Item;\n\t\t\t\tif (it.s.getIndex() === idx && Math.abs(it.m) < minDx) {\n\t\t\t\t\tminDx = Math.abs(it.m);\n\t\t\t\t\ttar   = it;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (tar) {\n\t\t\tthis.#shift = tar.m;\n\t\t\tthis.#speed = Math.pow(Math.max(1, Math.abs(this.#shift)), 2);\n\t\t}\n\t}\n\n\tisTransitioning(): boolean {\n\t\treturn this.#shift !== 0;\n\t}\n\n\tprivate getCurrent(): number {\n\t\tlet minDx: number = Number.MAX_VALUE;\n\t\tlet cur  : number = 0;\n\n\t\tfor (let i: number = 0; i < this.#its.length; i += 1) {\n\t\t\tconst it = this.#its.at(i) as Item;\n\t\t\tif (Math.abs(it.m) < minDx) {\n\t\t\t\tminDx = Math.abs(it.m);\n\t\t\t\tcur   = i;\n\t\t\t}\n\t\t}\n\t\treturn cur;\n\t}\n\n\tprivate step(dt: number, tranTime: number): void {\n\t\tlet r: number = this.#speed * dt / (tranTime * 1000);\n\t\tif (Math.abs(this.#shift) < 0.1) {\n\t\t\tr *= Math.sin(Math.abs(this.#shift) * 10 * (Math.PI / 2));\n\t\t}\n\t\tconst doFit: boolean = Math.abs(this.#shift) < r;\n\t\tif (this.#shift < 0) {\n\t\t\tr = Math.min(r, -this.#shift);\n\t\t\tthis.#shift += r;\n\t\t\tfor (const it of this.#its) {\n\t\t\t\tit.m += r;\n\t\t\t}\n\t\t\tif (this.#sideSize + 0.5 < (this.#its.at(-1) as Item).m) {\n\t\t\t\tconst it = this.#its.pop() as Item;\n\t\t\t\tit.m = (this.#its.at(0) as Item).m - 1;\n\t\t\t\tthis.#its.unshift(it);\n\t\t\t}\n\t\t} else if (0 < this.#shift) {\n\t\t\tr = Math.min(r, this.#shift);\n\t\t\tthis.#shift -= r;\n\t\t\tfor (const it of this.#its) {\n\t\t\t\tit.m -= r;\n\t\t\t}\n\t\t\tif ((this.#its.at(0) as Item).m < -(this.#sideSize + 0.5)) {\n\t\t\t\tconst it = this.#its.shift() as Item;\n\t\t\t\tit.m = (this.#its.at(-1) as Item).m + 1;\n\t\t\t\tthis.#its.push(it);\n\t\t\t}\n\t\t}\n\t\tif (doFit) {\n\t\t\tthis.#shift = 0;\n\t\t\tfor (const it of this.#its) {\n\t\t\t\tit.m = Math.round(it.m);\n\t\t\t}\n\t\t}\n\n\t\tconst ul = this.#its[0].s.getBase().parentElement as HTMLElement;\n\t\tfor (const it of this.#its) {\n\t\t\tconst e: number = snapToBinary(getOverlapRatio(it.s.getBase(), ul));\n\t\t\tconst isCur: boolean = it.s.getIndex() === this.#current;\n\t\t\tit.s.setState(this.getState(isCur, e));\n\t\t\tit.v = e;\n\t\t}\n\t\tthis.update();\n\t}\n\n\tprivate getState(isCur: boolean, e: number): string {\n\t\tif (isCur && 0 < e && e < 1) return S_IN;\n\t\tif (!isCur && 0 < e && e < 1) return S_OUT;\n\t\tif (isCur && e === 1) return S_DISPLAY;\n\t\treturn '';\n\t}\n\n}\n\nfunction getOverlapRatio(target: HTMLElement, base: HTMLElement): number {\n\tconst rt: DOMRect = target.getBoundingClientRect();\n\tconst rb: DOMRect = base.getBoundingClientRect();\n\tconst x0: number  = Math.max(rt.left, rb.left);\n\tconst x1: number  = Math.min(rt.right, rb.right);\n\treturn Math.max(0, x1 - x0) / rt.width;\n}\n", "/**\n * Slider Simplex\n *\n * @author Takuto Yanagida\n * @version 2025-03-28\n */\n\nimport { getStylePropertyBool, getStylePropertyFloat, getStylePropertyString } from './custom-property';\nimport { detectTouch, repeatAnimationFrame, initializeViewportDetection, callAfterDocumentReady, wrapAround } from './common';\n\nimport { Background } from './part-background.js';\nimport { Navigation } from './part-navigation';\nimport { Pagination } from './part-pagination';\nimport { Indicator } from './part-indicator';\nimport { Selector } from './part-selector.js';\n\nimport { Slide } from './slide';\nimport { Transition, TransitionFade, TransitionSlide, TransitionScroll } from './transition';\n\nconst NS          = 'slider-simplex';\nconst CLS_SLIDES  = 'slides';\n\nconst CLS_START   = 'start';\nconst CLS_VIEW    = 'view';\nconst CLS_PAUSE   = 'pause';\nconst CLS_SCROLL  = 'scroll';\n\nconst CP_EFFECT_TYPE      = '--effect-type';\nconst CP_DURATION_TIME    = '--duration-time';\nconst CP_TRANSITION_TIME  = '--transition-time';\n\nconst CP_RANDOMIZE_TIMING = '--randomize-timing';\nconst CP_RANDOM_RATE      = '--random-rate';\n\nconst CP_SHOW_BACKGROUND  = '--show-background';\nconst CP_SHOW_SIDE_SLIDE  = '--show-side-slide';\n\nconst CP_CREATE_NAVIGATION = '--create-navigation';\nconst CP_CREATE_PAGINATION = '--create-pagination';\nconst CP_CREATE_SELECTOR   = '--create-selector';\n\nconst CP_VIEW_OFFSET = '--view-offset';\n\nexport class SliderSimplex {\n\n\tstatic create(id: string | null): SliderSimplex | null {\n\t\tif (id) {\n\t\t\tconst r: HTMLElement = document.getElementById(id) as HTMLElement;\n\t\t\tif (r) {\n\t\t\t\treturn new SliderSimplex(r);\n\t\t\t}\n\t\t} else {\n\t\t\tfor (const r of document.getElementsByClassName(NS)) {\n\t\t\t\tnew SliderSimplex(r as HTMLElement);\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n\n\t#root: HTMLElement;\n\n\t#effectType      : string\n\t#timeDur         : number\n\t#timeTran        : number\n\t#randomRate      : number\n\n\t#showBackground  : boolean;\n\t#showSideSlide   : boolean;\n\n\t#createNavigation: boolean;\n\t#createPagination: boolean;\n\t#createSelector  : boolean;\n\n\t#lis    : HTMLLIElement[];\n\t#size   : number;\n\t#slides : Slide[] = [];\n\t#effect!: Transition;\n\n\t#onTransitionEnd: (() => void) | null = null;\n\n\t#selector  : Selector   | null = null;\n\t#indicator : Indicator  | null = null;\n\t#pagination: Pagination | null = null;\n\t#background: Background | null = null;\n\n\t#curIdx      : number  = 0;\n\t#nextStepTime: number  = 0;\n\t#isWaiting   : boolean = false;\n\n\tconstructor(root: HTMLElement) {\n\t\tthis.#root = root;\n\n\t\tthis.#effectType       = getStylePropertyString(this.#root, CP_EFFECT_TYPE, 'fade');\n\t\tthis.#timeDur          = getStylePropertyFloat(this.#root, CP_DURATION_TIME, 8);\n\t\tthis.#timeTran         = getStylePropertyFloat(this.#root, CP_TRANSITION_TIME, 1);\n\n\t\tconst rt: boolean | null = getStylePropertyBool(this.#root, CP_RANDOMIZE_TIMING, null);\n\t\tif (rt) {\n\t\t\tthis.#randomRate = getStylePropertyFloat(this.#root, CP_RANDOM_RATE, 10);\n\t\t} else if (rt === null) {\n\t\t\tthis.#randomRate = getStylePropertyFloat(this.#root, CP_RANDOM_RATE, 0);\n\t\t} else {\n\t\t\tthis.#randomRate = 0;\n\t\t}\n\t\tthis.#showBackground   = getStylePropertyBool(this.#root, CP_SHOW_BACKGROUND, false);\n\t\tthis.#showSideSlide    = getStylePropertyBool(this.#root, CP_SHOW_SIDE_SLIDE, false);\n\n\t\tthis.#createNavigation = getStylePropertyBool(this.#root, CP_CREATE_NAVIGATION);\n\t\tthis.#createPagination = getStylePropertyBool(this.#root, CP_CREATE_PAGINATION);\n\t\tthis.#createSelector   = getStylePropertyBool(this.#root, CP_CREATE_SELECTOR);\n\n\t\tconst viewOffset: number = getStylePropertyFloat(this.#root, CP_VIEW_OFFSET, 100);\n\n\t\t// ----\n\n\t\tconst ul   = this.#root.querySelector('.' + CLS_SLIDES) as HTMLElement;\n\t\tthis.#lis  = Array.from(ul.getElementsByTagName('li'));\n\t\tthis.#size = this.#lis.length;\n\n\t\tfor (const li of this.#lis) {\n\t\t\tli.dataset.effectType = li.dataset.effectType ?? this.#effectType;\n\t\t}\n\t\tif (this.#showBackground) {\n\t\t\tthis.#background = new Background(this.#root, this.#lis);\n\t\t}\n\t\tif (this.#showSideSlide) {\n\t\t\tul.dataset.showSideSlide = 'true';\n\t\t}\n\t\tthis.initSlides();\n\t\tdetectTouch(this.#root);\n\t\tinitializeViewportDetection(this.#root, CLS_VIEW, viewOffset);\n\t\tcallAfterDocumentReady(async (): Promise<void> => this.start());\n\t}\n\n\tgetController() {\n\t\tconst fs = {\n\t\t\tmove: (idx: number): void => this.transition(idx, this.#size === 2 ? 1 : 0),\n\t\t\tnext: (): void => this.transition((this.#curIdx === this.#size - 1) ? 0               : (this.#curIdx + 1),  1),\n\t\t\tprev: (): void => this.transition((this.#curIdx === 0            ) ? (this.#size - 1) : (this.#curIdx - 1), -1),\n\n\t\t\tonTransitionEnd: (fn: () => void): void => { this.#onTransitionEnd = fn; }\n\t\t};\n\t\treturn fs;\n\t}\n\n\n\t// -------------------------------------------------------------------------\n\n\n\tprivate initSlides(): void {\n\t\tif (this.#effectType === 'scroll' && 1 < this.#size && this.#size < 5) {\n\t\t\tthis.cloneLis();\n\t\t\tif (this.#size === 2) {\n\t\t\t\tthis.cloneLis();\n\t\t\t}\n\t\t}\n\t\tconst isScroll: boolean = this.#root.classList.contains(CLS_SCROLL);\n\n\t\tfor (let i: number = 0; i < this.#lis.length; i += 1) {\n\t\t\tconst li: HTMLElement = this.#lis[i];\n\t\t\tif (isScroll) {\n\t\t\t\tli.classList.add(CLS_SCROLL);\n\t\t\t}\n\t\t\tconst slide = new Slide(li, i % this.#size, this.#size);\n\t\t\tthis.#slides.push(slide);\n\t\t}\n\t\tconst ro = new ResizeObserver((): void => {\n\t\t\tfor (const s of this.#slides) {\n\t\t\t\ts.onResize();\n\t\t\t}\n\t\t});\n\t\tro.observe(this.#root);\n\n\t\tswitch (this.#effectType) {\n\t\t\tdefault      :\n\t\t\tcase 'fade'  : this.#effect = new TransitionFade(this.#slides, this.#timeTran); break;\n\t\t\tcase 'slide' : this.#effect = new TransitionSlide(this.#slides, this.#timeTran); break;\n\t\t\tcase 'scroll': this.#effect = new TransitionScroll(this.#slides, this.#timeTran); break;\n\t\t}\n\t}\n\n\tprivate cloneLis(): void {\n\t\tfor (let i: number = 0; i < this.#size; i += 1) {\n\t\t\tconst li: HTMLLIElement = this.#lis[i];\n\t\t\tconst nls = this.#lis[i].cloneNode(true) as HTMLLIElement;\n\t\t\tthis.#lis.push(nls);\n\t\t\tli.parentNode?.appendChild(nls);\n\t\t}\n\t}\n\n\tprivate async start(): Promise<void> {\n\t\tif (1 < this.#size) {\n\t\t\tconst fn = (idx: number, dir: -1 | 0 | 1) => this.transition(idx, dir);\n\n\t\t\tnew Navigation(this.#root, this.#timeTran, fn, this.#createNavigation);\n\t\t\tthis.#pagination = new Pagination(this.#root, this.#size, fn, this.#createPagination);\n\t\t\tthis.#selector   = new Selector(this.#root, this.#lis, this.#size, fn, this.#createSelector);\n\t\t}\n\t\tthis.#indicator = new Indicator(this.#root, this.#size);\n\n\t\tconst rs: boolean[] = await Promise.all(this.#slides.map((s: Slide): any => s.isLoaded()));\n\t\tif (rs.every((result: any): boolean => result === true)) {\n\t\t\tthis.transition(0, 0);\n\t\t\tsetTimeout((): void => {\n\t\t\t\tthis.#root.classList.add(CLS_START);\n\t\t\t\trepeatAnimationFrame((_t: number, _dt: number): void => this.step());\n\t\t\t}, 200);\n\t\t\tconsole.log(`Slider Simplex (#${this.#root.id}): successfully started`);\n\t\t} else {\n\t\t\tconsole.log(`Slider Simplex (#${this.#root.id}): failed to load media`);\n\t\t}\n\t}\n\n\n\t// -------------------------------------------------------------------------\n\n\n\tprivate transition(idx: number, dir: -1 | 0 | 1): void {\n\t\tif (idx === -1) {\n\t\t\tidx = wrapAround(this.#curIdx + dir, this.#size);\n\t\t}\n\t\tif (this.#background) this.#background.transition(idx);\n\t\tif (this.#pagination) this.#pagination.transition(idx);\n\t\tif (this.#indicator)  this.#indicator.transition(idx);\n\t\tif (this.#selector)   this.#selector.transition(idx);\n\n\t\tthis.#effect.transition(idx, dir);\n\t\tthis.#curIdx    = idx;\n\t\tthis.#isWaiting = true;\n\n\t\tif (1 < this.#size) {\n\t\t\tconst dt: number = this.#slides[idx].getDuration(this.#timeDur, this.#timeTran, this.#randomRate);\n\t\t\tthis.#nextStepTime = window.performance.now() + dt * 1000;\n\t\t}\n\t}\n\n\tprivate step(): void {\n\t\tif (this.#isWaiting && !this.#effect.isTransitioning()) {\n\t\t\tif (this.#onTransitionEnd) this.#onTransitionEnd();\n\t\t\tthis.#isWaiting = false;\n\t\t}\n\t\tif (window.performance.now() < this.#nextStepTime) {\n\t\t\treturn;\n\t\t}\n\t\tif (!this.#root.classList.contains(CLS_VIEW) || this.#root.classList.contains(CLS_PAUSE)) {\n\t\t\treturn;\n\t\t}\n\t\tthis.#nextStepTime = Number.MAX_VALUE;\n\t\tthis.transition(-1, 1);\n\t}\n\n}\n"],
  "mappings": "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",
  "names": ["getStylePropertyBool", "elm", "prop", "def", "v", "getPropValue", "getStylePropertyFloat", "getStylePropertyString", "wrapAround", "n", "size", "snapToBinary", "e", "detectTouch", "elm", "isTouch", "repeatAnimationFrame", "fn", "tl", "cb", "t", "callAfterDocumentReady", "initializeViewportDetection", "root", "cls", "offset", "es", "h", "waitForAllImages", "is", "i", "resolve", "reject", "waitForAllVideos", "vs", "v", "CLS_BG", "CLS_VISIBLE", "Background", "#bs", "root", "lis", "base", "li", "bg", "img", "i", "r", "CLS_NAVIGATION", "CLS_ACTIVE", "Navigation", "#fs", "#bs", "root", "timeTran", "fn", "forced", "base", "CLS_NAVIGATION", "bs", "b0", "b1", "dir", "flag", "CLS_ACTIVE", "delay", "sts", "px", "e", "x", "CLS_PAGINATION", "CLS_VISIBLE", "Pagination", "#rs", "root", "size", "fn", "forced", "base", "e", "dir", "i", "r", "CLS_SLIDE_CNT", "CLS_SLIDE_IDX", "Indicator", "#ies", "root", "size", "ces", "elm", "idx", "CLS_SELECTOR", "CLS_VISIBLE", "Selector", "#ts", "root", "lis", "size", "fn", "forced", "base", "e", "dir", "i", "li", "th", "img", "r", "CLS_CAPTION", "CLS_SUBTITLE", "CLS_CIRCLE", "CLS_LINE", "CLS_CUSTOM", "DS_KEY_STATE", "Caption", "_Caption", "li", "elm", "#base", "#type", "base", "d", "ns", "n", "e", "cs", "ref", "div", "c", "span", "state", "_prev", "CLS_IMAGE", "CLS_VIDEO", "CLS_SCROLL", "CLS_DUAL", "DS_KEY_STATE", "Mount", "li", "state", "_prev", "timeDur", "_timeTran", "_randomRate", "MountImage", "#isLoaded", "is", "waitForAllImages", "randomRate", "f", "MountVideo", "#video", "totalSize", "vs", "v", "waitForAllVideos", "prev", "_timeDur", "timeTran", "DS_KEY_STATE", "Slide", "#li", "#idx", "#mnt", "#cap", "li", "idx", "totalSize", "Caption", "MountVideo", "MountImage", "state", "prev", "timeDur", "timeTran", "randomRate", "S_DISPLAY", "S_IN", "S_OUT", "CP_MOTION", "CP_VISIBILITY", "Transition", "TransitionFade", "#its", "#current", "#beforeFirstStep", "ss", "tranTime", "repeatAnimationFrame", "_t", "dt", "its", "it", "idx", "_dir", "r", "isCur", "snapToBinary", "v", "TransitionSlide", "l", "isTransitioning", "maxArea", "i", "a", "TransitionScroll", "#shift", "#speed", "#sideSize", "off", "dir", "minDx", "tar", "wrapAround", "cur", "doFit", "ul", "e", "getOverlapRatio", "target", "base", "rt", "rb", "x0", "x1", "NS", "CLS_SLIDES", "CLS_START", "CLS_VIEW", "CLS_PAUSE", "CLS_SCROLL", "CP_EFFECT_TYPE", "CP_DURATION_TIME", "CP_TRANSITION_TIME", "CP_RANDOMIZE_TIMING", "CP_RANDOM_RATE", "CP_SHOW_BACKGROUND", "CP_SHOW_SIDE_SLIDE", "CP_CREATE_NAVIGATION", "CP_CREATE_PAGINATION", "CP_CREATE_SELECTOR", "CP_VIEW_OFFSET", "SliderSimplex", "_SliderSimplex", "id", "r", "#root", "#effectType", "#timeDur", "#timeTran", "#randomRate", "#showBackground", "#showSideSlide", "#createNavigation", "#createPagination", "#createSelector", "#lis", "#size", "#slides", "#effect", "#onTransitionEnd", "#selector", "#indicator", "#pagination", "#background", "#curIdx", "#nextStepTime", "#isWaiting", "root", "getStylePropertyString", "getStylePropertyFloat", "rt", "getStylePropertyBool", "viewOffset", "ul", "li", "Background", "detectTouch", "initializeViewportDetection", "callAfterDocumentReady", "idx", "fn", "isScroll", "slide", "Slide", "s", "TransitionFade", "TransitionSlide", "TransitionScroll", "i", "nls", "dir", "Navigation", "Pagination", "Selector", "Indicator", "result", "repeatAnimationFrame", "_t", "_dt", "wrapAround", "dt"]
}
