{
  "version": 3,
  "sources": ["../src/custom-property.ts", "../src/common.ts", "../src/part-background.ts", "../src/part-navigation.ts", "../src/part-pagination.ts", "../src/part-indicator.ts", "../src/part-selector.ts", "../src/caption.ts", "../src/mount.ts", "../src/mount-image.ts", "../src/mount-video.ts", "../src/slide.ts", "../src/transition.ts", "../src/transition-scroll.ts", "../src/transition-slide.ts", "../src/transition-fade.ts", "../src/slider-simplex.ts"],
  "sourcesContent": ["/**\n * Custom Property Utilities\n *\n * @author Takuto Yanagida\n * @version 2025-04-16\n */\n\nexport function getStylePropertyBool(\n\telm: HTMLElement,\n\tprop: string,\n\tdef?: boolean\n): boolean;\n\nexport function getStylePropertyBool(\n\telm: HTMLElement,\n\tprop: string,\n\tdef: null\n): boolean | null;\n\nexport function getStylePropertyBool(elm: HTMLElement, prop: string, def: boolean | null = false): boolean | null {\n\tconst v: string = getPropValue(elm, prop);\n\tif (!v) return def;\n\ttry {\n\t\treturn true === JSON.parse(v.toLowerCase());\n\t} catch (e) {\n\t\treturn true;\n\t}\n}\n\nexport function getStylePropertyFloat(elm: HTMLElement, prop: string, def: number = 0): number {\n\tconst v: string = getPropValue(elm, prop);\n\tconst n: number = parseFloat(v);\n\treturn isNaN(n) ? def : n;\n}\n\nexport function getStylePropertyString(elm: HTMLElement, prop: string, def: string = ''): string {\n\tconst v: string = getPropValue(elm, prop);\n\treturn v || def;\n}\n\nexport function getStylePropertyTime(elm: HTMLElement, prop: string, def: number = 0): number {\n\tconst v: string = getPropValue(elm, prop);\n\tif (!v) return def;\n\n\tconst vl: string = v.toLowerCase();\n\tlet s: string = '';\n\tlet m: number = 1000;\n\n\tif (vl.endsWith('ms')) {\n\t\ts = vl.slice(0, -2).trim();\n\t\tm = 1;\n\t} else if (vl.endsWith('s')) {\n\t\ts = vl.slice(0, -1).trim();\n\t\tm = 1000;\n\t} else {\n\t\ts = vl.trim();\n\t\tm = 1000;\n\t}\n\tif (!s) return def;\n\tconst n: number = parseFloat(s);\n\treturn isNaN(n) ? def : n * m;\n}\n\nfunction getPropValue(elm: HTMLElement, prop: string): string {\n\tlet v: string = getComputedStyle(elm).getPropertyValue(prop).trim();\n\tif ((v.startsWith('\"') && v.endsWith('\"')) || (v.startsWith(\"'\") && v.endsWith(\"'\"))) {\n\t\tv = v.slice(1, -1);\n\t}\n\treturn v;\n}\n", "/**\r\n * Common Functions\r\n *\r\n * @author Takuto Yanagida\r\n * @version 2025-04-15\r\n */\r\n\r\nexport function wrapAround(n: number, size: number): number {\r\n\treturn size <= n ? n - size : (n < 0 ? size + n : n);\r\n}\r\n\r\nexport function snapToBinary(n: number, e: number = 0.0001): number {\r\n\tif (n < e)     return 0;\r\n\tif (1 - e < n) return 1;\r\n\treturn n;\r\n}\r\n\r\n\r\n// -----------------------------------------------------------------------------\r\n\r\n\r\nexport function detectTouch(elm: HTMLElement): void {\r\n\tif (0 < navigator.maxTouchPoints) {\r\n\t\telm.addEventListener('pointerenter', (e: PointerEvent): void => {\r\n\t\t\tconst isTouch: boolean = (e.pointerType !== 'mouse');\r\n\t\t\telm.classList.toggle('touch', isTouch);\r\n\t\t});\r\n\t}\r\n}\r\n\r\n\r\n// -----------------------------------------------------------------------------\r\n\r\n\r\nexport function repeatAnimationFrame(fn: (timestamp: number, deltaTime: number) => void): void {\r\n\tlet tl: number = 0;\r\n\tconst cb: FrameRequestCallback = (t: number): void => {\r\n\t\tif (tl !== 0) {\r\n\t\t\tfn(t, t - tl);\r\n\t\t}\r\n\t\ttl = t;\r\n\t\twindow.requestAnimationFrame(cb);\r\n\t}\r\n\twindow.requestAnimationFrame(cb);\r\n\r\n}\r\n\r\nexport function callAfterDocumentReady(fn: () => void): void {\r\n\tif ('loading' === document.readyState) {\r\n\t\tdocument.addEventListener('DOMContentLoaded', fn);\r\n\t} else {\r\n\t\tsetTimeout(fn, 0);\r\n\t}\r\n}\r\n\r\n\r\n// -----------------------------------------------------------------------------\r\n\r\n\r\nexport function initializeViewportDetection(root: HTMLElement, cls: string, offset: number): void {\r\n\tconst io = new IntersectionObserver((es: IntersectionObserverEntry[]): void => {\r\n\t\tfor (const e of es) {\r\n\t\t\troot.classList.toggle(cls, e.isIntersecting);\r\n\t\t}\r\n\t}, { rootMargin: `${offset}px 0px` });\r\n\tio.observe(root);\r\n\r\n\tdocument.addEventListener('visibilitychange', (): void => {\r\n\t\tconst v: boolean = 'visible' === document.visibilityState;\r\n\t\tif (v) {\r\n\t\t\tconst r: DOMRect = root.getBoundingClientRect();\r\n\t\t\tconst h: number  = window.innerHeight;\r\n\t\t\tif (r.top < h && 0 < r.bottom) {\r\n\t\t\t\troot.classList.add(cls);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\troot.classList.remove(cls);\r\n\t\t}\r\n\t});\r\n}\r\n\r\n\r\n// -----------------------------------------------------------------------------\r\n\r\n\r\nexport function waitForAllImages(is: HTMLImageElement[]): Promise<boolean> {\r\n\treturn Promise.all(\r\n\t\tis.map((i: HTMLImageElement): Promise<void> => {\r\n\t\t\tif (i.complete && i.naturalWidth !== 0) {\r\n\t\t\t\treturn Promise.resolve();\r\n\t\t\t}\r\n\t\t\treturn new Promise<void>((resolve, reject) => {\r\n\t\t\t\ti.addEventListener('load', (): void => resolve(), { once: true });\r\n\t\t\t\ti.addEventListener('error', (): void => reject(new Error('Image failed to load')), { once: true });\r\n\t\t\t});\r\n\t\t})\r\n\t).then(\r\n\t\t(): boolean => true,\r\n\t\t(): boolean => false\r\n\t);\r\n}\r\n\r\nexport function waitForAllVideos(vs: HTMLVideoElement[]): Promise<boolean> {\r\n\treturn Promise.all(\r\n\t\tvs.map((v: HTMLVideoElement): Promise<void> => {\r\n\t\t\tif (v.readyState >= 1) {  // HAVE_METADATA\r\n\t\t\t\treturn Promise.resolve();\r\n\t\t\t}\r\n\t\t\treturn new Promise<void>((resolve, reject) => {\r\n\t\t\t\tv.addEventListener('loadedmetadata', (): void => resolve(), { once: true });\r\n\t\t\t\tv.addEventListener('error', (): void => reject(new Error('Video failed to load metadata')), { once: true });\r\n\t\t\t});\r\n\t\t})\r\n\t).then(\r\n\t\t(): boolean => true,\r\n\t\t(): boolean => false\r\n\t);\r\n}\r\n", "/**\n * Backgrounds\n *\n * @author Takuto Yanagida\n * @version 2025-04-16\n */\n\nconst CLS_BG      = 'background';\nconst CLS_VISIBLE = 'visible';\n\nexport class Background {\n\n\t#bs: HTMLElement[] = [];\n\n\tconstructor(root: HTMLElement, lis: HTMLElement[]) {\n\t\tconst base: HTMLElement = document.createElement('div');\n\t\tbase.classList.add(CLS_BG);\n\t\troot.insertBefore(base, root.firstChild);\n\n\t\tthis.#bs = lis.map(li => {\n\t\t\tconst img: HTMLImageElement | null = li.querySelector<HTMLImageElement>('img');\n\t\t\tconst bg: HTMLElement = img ? img.cloneNode(false) as HTMLElement : document.createElement('div');\n\t\t\tbase.appendChild(bg);\n\t\t\treturn bg;\n\t\t});\n\t}\n\n\ttransition(idx: number): void {\n\t\tthis.#bs.forEach((t, i) => {\n\t\t\tt.classList.toggle(CLS_VISIBLE, i === idx);\n\t\t});\n\t}\n\n}\n", "/**\n * Navigation Buttons\n *\n * @author Takuto Yanagida\n * @version 2025-04-16\n */\n\nconst CLS_NAVIGATION = 'navigation';\nconst CLS_ACTIVE     = 'active';\nconst CLS_TOUCH      = 'touch';\n\nconst DX_FLICK: number = 32;\n\ntype Fn = (idx: number, dir: -1 | 0 | 1) => void;\n\nexport class Navigation {\n\n\t#fs!: (() => void)[];\n\t#bs!: HTMLElement[];\n\n\tconstructor(root: HTMLElement, timeTran: number, fn: Fn, forced: boolean = true) {\n\t\tlet base = root.querySelector<HTMLElement>('.' + CLS_NAVIGATION);\n\t\tif (!base && forced) {\n\t\t\tbase = document.createElement('div');\n\t\t\tbase.classList.add(CLS_NAVIGATION);\n\t\t\troot.appendChild(base);\n\t\t}\n\t\tif (!base) return;\n\n\t\tthis.#fs = [\n\t\t\t(): void => fn(-1, -1),\n\t\t\t(): void => fn(-1,  1),\n\t\t];\n\t\tthis.#bs = this.createButtons(base);\n\n\t\tbase.addEventListener('mouseenter', (): void => this.setActive(!root.classList.contains(CLS_TOUCH)));\n\t\tbase.addEventListener('mouseleave', (): void => this.setActive(false));\n\n\t\tthis.initializeFlick(root, timeTran / 2);\n\t}\n\n\tprivate createButtons(base: HTMLElement): HTMLButtonElement[] {\n\t\tlet bs: HTMLButtonElement[] = Array.from(base.querySelectorAll<HTMLButtonElement>(':scope > button'));\n\n\t\tif (bs.length !== 2) {\n\t\t\tconst b0: HTMLButtonElement = document.createElement('button');\n\t\t\tconst b1: HTMLButtonElement = document.createElement('button');\n\t\t\tbase.appendChild(b0);\n\t\t\tbase.appendChild(b1);\n\t\t\tbs = [b0, b1];\n\t\t}\n\t\tbs.forEach((b, i) => {\n\t\t\tb.classList.add(CLS_NAVIGATION);\n\t\t\tb.addEventListener('click', (): void => this.doClick(i));\n\t\t});\n\t\treturn bs;\n\t}\n\n\tprivate doClick(dir: number): void {\n\t\tthis.#fs[dir]?.();\n\t}\n\n\tprivate setActive(flag: boolean): void {\n\t\tfor (const b of this.#bs) {\n\t\t\tb.classList.toggle(CLS_ACTIVE, flag);\n\t\t}\n\t}\n\n\tprivate initializeFlick(base: HTMLElement, delay: number): void {\n\t\tconst sts: [number, number] = [0, 0];\n\t\tlet px: number | null = null;\n\n\t\tbase.addEventListener('touchstart', (e: TouchEvent): void => {\n\t\t\tif (e.touches.length === 1) {\n\t\t\t\tpx = e.touches[0]?.pageX ?? null;\n\t\t\t} else {\n\t\t\t\tpx = null;\n\t\t\t}\n\t\t}, { passive: true });\n\t\tbase.addEventListener('touchmove', (e: TouchEvent): void => {\n\t\t\tif (px === null || e.touches.length !== 1) return;\n\n\t\t\tconst dir: number = this.getFlickDir(px, e.touches[0]);\n\t\t\tif (dir !== -1) {\n\t\t\t\tif (e.cancelable) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t}\n\t\t\t\tthis.#fs[dir]?.();\n\n\t\t\t\tconst b = this.#bs[dir];\n\t\t\t\tif (b) {\n\t\t\t\t\tclearTimeout(sts[dir]);\n\t\t\t\t\tb.classList.add(CLS_ACTIVE);\n\t\t\t\t\tsts[dir] = setTimeout((): void => b.classList.remove(CLS_ACTIVE), delay);\n\t\t\t\t}\n\t\t\t\tpx = null;\n\t\t\t}\n\t\t}, { passive: false });\n\n\t\tconst resetTouch = (): void => {\n\t\t\tpx = null;\n\t\t};\n\t\tbase.addEventListener('touchend', resetTouch, { passive: true });\n\t\tbase.addEventListener('touchcancel', resetTouch, { passive: true });\n\t}\n\n\tprivate getFlickDir(px: number, t: Touch | undefined): number {\n\t\tif (px === null || !t) return -1;\n\n\t\tconst x: number = t.pageX;\n\t\tif (px + DX_FLICK < x) return 0;  // ->\n\t\tif (x < px - DX_FLICK) return 1;  // <-\n\t\treturn -1;\n\t}\n\n}\n", "/**\n * Pagination\n *\n * @author Takuto Yanagida\n * @version 2025-04-16\n */\n\nconst CLS_PAGINATION = 'pagination';\nconst CLS_VISIBLE    = 'visible';\n\ntype Fn = (idx: number, dir: -1 | 0 | 1) => void;\n\nexport class Pagination {\n\n\t#rs: HTMLElement[] = [];\n\n\tconstructor(root: HTMLElement, size: number, fn: Fn, forced: boolean = true) {\n\t\tlet base = root.querySelector('.' + CLS_PAGINATION);\n\t\tif (!base && forced) {\n\t\t\tbase = document.createElement('div');\n\t\t\tbase.classList.add(CLS_PAGINATION);\n\t\t\troot.appendChild(base);\n\t\t}\n\t\tif (!base) return;\n\n\t\tconst e: HTMLOListElement = base.querySelector<HTMLOListElement>(':scope > ol') ?? base.appendChild(document.createElement('ol'))\n\t\tconst dir = size === 2 ? 1 : 0;\n\n\t\tfor (let i: number = 0; i < size; i += 1) {\n\t\t\te.appendChild(this.createBullet(fn, i, dir));\n\t\t}\n\t}\n\n\tprivate createBullet(fn: Fn, i: number, dir: -1 | 0 | 1): HTMLElement {\n\t\tconst r: HTMLElement = document.createElement('li');\n\t\tr.addEventListener('click', (): void => fn(i, dir));\n\t\tthis.#rs.push(r);\n\t\treturn r;\n\t}\n\n\ttransition(idx: number): void {\n\t\tthis.#rs.forEach((t, i) => {\n\t\t\tt.classList.toggle(CLS_VISIBLE, i === idx);\n\t\t});\n\t}\n\n}\n", "/**\n * Indicators\n *\n * @author Takuto Yanagida\n * @version 2025-04-16\n */\n\nconst CLS_SLIDE_CNT = 'slide-count';\nconst CLS_SLIDE_IDX = 'slide-index';\n\nexport class Indicator {\n\n\t#ies: HTMLElement[] = [];\n\n\tconstructor(root: HTMLElement, size: number) {\n\t\tconst ces = Array.from(root.querySelectorAll<HTMLElement>('.' + CLS_SLIDE_CNT));\n\t\tfor (const elm of ces) {\n\t\t\telm.innerHTML = `${size}`;\n\t\t}\n\t\tthis.#ies = Array.from(root.querySelectorAll<HTMLElement>('.' + CLS_SLIDE_IDX));\n\t\tfor (const elm of this.#ies) {\n\t\t\telm.innerHTML = '1';\n\t\t}\n\t}\n\n\ttransition(idx: number): void {\n\t\tfor (const e of this.#ies) {\n\t\t\te.innerHTML = `${idx + 1}`;\n\t\t}\n\t}\n}\n", "/**\n * Thumbnails\n *\n * @author Takuto Yanagida\n * @version 2025-04-16\n */\n\nconst CLS_SELECTOR = 'selector';\nconst CLS_VISIBLE  = 'visible';\n\ntype Fn = (idx: number, dir: -1 | 0 | 1) => void;\n\nexport class Selector {\n\n\t#ts: HTMLElement[] = [];\n\n\tconstructor(root: HTMLElement, lis: HTMLElement[], size: number, fn: Fn, forced: boolean = true) {\n\t\tlet base: HTMLElement | null = root.querySelector<HTMLElement>('.' + CLS_SELECTOR);\n\t\tif (!base && forced) {\n\t\t\tbase = document.createElement('div');\n\t\t\tbase.classList.add(CLS_SELECTOR);\n\t\t\troot.appendChild(base);\n\t\t}\n\t\tif (!base) return;\n\n\t\tconst e: HTMLOListElement = base.querySelector<HTMLOListElement>(':scope > ol') ?? base.appendChild(document.createElement('ol'));\n\t\tconst dir = size === 2 ? 1 : 0;\n\n\t\tfor (let i: number = 0; i < size; i += 1) {\n\t\t\te.appendChild(this.createThumbnail(lis[i]!, fn, i, dir));\n\t\t}\n\t}\n\n\tprivate createThumbnail(li: HTMLElement, fn: Fn, i: number, dir: -1 | 0 | 1): HTMLElement {\n\t\tconst r: HTMLElement = document.createElement('li');\n\n\t\tconst img: HTMLImageElement | null = li.querySelector<HTMLImageElement>('img');\n\t\tconst th : HTMLElement = img ? img.cloneNode(false) as HTMLElement : document.createElement('div');\n\t\tr.appendChild(th);\n\n\t\tr.addEventListener('click', (): void => fn(i, dir));\n\t\tthis.#ts.push(r);\n\t\treturn r;\n\t}\n\n\ttransition(idx: number): void {\n\t\tthis.#ts.forEach((t, i) => {\n\t\t\tt.classList.toggle(CLS_VISIBLE, i === idx);\n\t\t});\n\t}\n\n}\n", "/**\n * Caption\n *\n * @author Takuto Yanagida\n * @version 2025-04-16\n */\n\nconst CLS_CAPTION = 'caption';\n\nconst CLS_SUBTITLE = 'subtitle';\nconst CLS_CIRCLE   = 'circle';\nconst CLS_LINE     = 'line';\nconst CLS_CUSTOM   = 'custom';\n\nconst DS_KEY_STATE = 'state';\n\nexport class Caption {\n\n\tstatic create(li: HTMLElement): Caption | null {\n\t\tconst elm: HTMLElement | null = li.querySelector(':scope > div, :scope > a > div');\n\t\tif (elm) {\n\t\t\t return new Caption(elm);\n\t\t}\n\t\treturn null;\n\t}\n\n\t#base: HTMLElement;\n\t#type: string = CLS_SUBTITLE;\n\n\tconstructor(base: HTMLElement) {\n\t\tthis.#base = base;\n\n\t\tif (!base.classList.contains(CLS_CAPTION)) {\n\t\t\tbase.classList.add(CLS_CAPTION);\n\t\t}\n\t\tif (!base.classList.contains(CLS_LINE) && !base.classList.contains(CLS_CIRCLE) && !base.classList.contains(CLS_CUSTOM)) {\n\t\t\tbase.classList.add(CLS_SUBTITLE);\n\t\t}\n\t\tif (base.classList.contains(CLS_LINE))     this.#type = CLS_LINE;\n\t\tif (base.classList.contains(CLS_CIRCLE))   this.#type = CLS_CIRCLE;\n\t\tif (base.classList.contains(CLS_SUBTITLE)) this.#type = CLS_SUBTITLE;\n\t\tif (base.classList.contains(CLS_CUSTOM))   this.#type = CLS_CUSTOM;\n\n\t\tthis.wrap(base);\n\t\tfor (const d of base.querySelectorAll<HTMLElement>(':scope > div')) {\n\t\t\tthis.wrapWithSpan(d);\n\t\t}\n\t}\n\n\tprivate wrap(elm: HTMLElement): void {\n\t\tconst ns: Node[] = [];\n\n\t\tfor (const n of Array.from(elm.childNodes)) {\n\t\t\tif (Node.ELEMENT_NODE === n.nodeType) {\n\t\t\t\tif ('DIV' === (n as Element).tagName) {\n\t\t\t\t\tthis.wrapAndReplaceNodes(elm, ns, n);\n\t\t\t\t} else if ('BR' === (n as Element).tagName) {\n\t\t\t\t\tthis.wrapAndReplaceNodes(elm, ns, n);\n\t\t\t\t\telm.removeChild(n);\n\t\t\t\t} else {\n\t\t\t\t\tns.push(n);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tconst str: string = (n as Text).nodeValue?.trim() ?? '';\n\t\t\t\tif (str.length) {\n\t\t\t\t\tns.push(n);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tthis.wrapAndReplaceNodes(elm, ns, null);\n\t}\n\n\tprivate wrapAndReplaceNodes(e: Node, cs: Node[], ref: Node | null): void {\n\t\tif (cs.length) {\n\t\t\tconst div: HTMLElement = document.createElement('div');\n\t\t\tfor (const c of cs) {\n\t\t\t\tdiv.appendChild(e.removeChild(c));\n\t\t\t}\n\t\t\te.insertBefore(div, ref);\n\t\t\tcs.length = 0;\n\t\t}\n\t}\n\n\tprivate wrapWithSpan(e: HTMLElement): void {\n\t\tconst span: HTMLElement = document.createElement('span');\n\t\tfor (const c of Array.from(e.childNodes)) {\n\t\t\tspan.appendChild(e.removeChild(c));\n\t\t}\n\t\tspan.innerHTML = span.innerHTML.trim();\n\t\te.appendChild(span);\n\t}\n\n\tonStateChanged(state: string, _prev: string): void {\n\t\tthis.#base.dataset[DS_KEY_STATE] = state;\n\t}\n\n\tonResize(): void {\n\t\tconst isPhone = window.innerWidth < 600;\n\t\tthis.#base.classList.remove(isPhone ? this.#type : CLS_SUBTITLE);\n\t\tthis.#base.classList.add(isPhone ? CLS_SUBTITLE : this.#type);\n\t}\n\n}\n", "/**\r\n * Mount\r\n *\r\n * @author Takuto Yanagida\r\n * @version 2025-04-16\r\n */\r\n\r\nexport const CLS_IMAGE = 'image';\r\nexport const CLS_VIDEO = 'video';\r\n\r\nexport const CLS_SCROLL = 'scroll';\r\nexport const CLS_DUAL   = 'dual';\r\n\r\nconst DS_KEY_STATE = 'state';\r\n\r\nexport abstract class Mount {\r\n\r\n\tprotected base: HTMLElement;\r\n\r\n\tconstructor(li: HTMLElement) {\r\n\t\tthis.base = document.createElement('div');\r\n\t\tconst e: HTMLElement = li.querySelector('a') ?? li;\r\n\t\te.insertBefore(this.base, e.firstChild);\r\n\t}\r\n\r\n\tabstract isLoaded(): Promise<boolean>;\r\n\r\n\tonStateChanged(state: string, _prev: string): void {\r\n\t\tthis.base.dataset[DS_KEY_STATE] = state;\r\n\t}\r\n\r\n\tgetDuration(timeDur: number, _timeTran: number, _randomRate: number): number {\r\n\t\treturn timeDur;\r\n\t}\r\n\r\n}\r\n\r\n", "/**\n * Mount - Image\n *\n * @author Takuto Yanagida\n * @version 2025-04-16\n */\n\nimport { waitForAllImages } from './common';\nimport { Mount, CLS_IMAGE, CLS_SCROLL, CLS_DUAL } from './mount';\n\nexport class MountImage extends Mount {\n\n\t#isLoaded: Promise<boolean>;\n\n\tconstructor(li: HTMLElement) {\n\t\tsuper(li);\n\t\tthis.base.classList.add(CLS_IMAGE);\n\n\t\tif (li.classList.contains(CLS_SCROLL)) {\n\t\t\tthis.base.classList.add(CLS_SCROLL);\n\t\t}\n\n\t\tconst [is0, is1] = Array.from(li.querySelectorAll<HTMLImageElement>(':scope > img, :scope > a > img'));\n\t\tconst loaded: HTMLImageElement[] = [];\n\n\t\tif (is0) {\n\t\t\tthis.base.appendChild(is0);\n\t\t\tloaded.push(is0);\n\t\t\tif (is1) {\n\t\t\t\tthis.base.classList.add(CLS_DUAL);\n\t\t\t\tthis.base.appendChild(is1);\n\t\t\t\tloaded.push(is1);\n\t\t\t}\n\t\t}\n\t\tthis.#isLoaded = loaded.length ? waitForAllImages(loaded) : Promise.resolve(false);\n\t}\n\n\tisLoaded(): Promise<boolean> {\n\t\treturn this.#isLoaded;\n\t}\n\n\tgetDuration(timeDur: number, _timeTran: number, randomRate: number = 0): number {\n\t\treturn randomRate ? (timeDur * (1 + 0.01 * randomRate * (1 - Math.random() * 2))) : timeDur;\n\t}\n\n}\n", "/**\n * Mount - Video\n *\n * @author Takuto Yanagida\n * @version 2025-04-16\n */\n\nimport { waitForAllVideos } from './common';\nimport { Mount, CLS_VIDEO } from './mount';\n\nexport class MountVideo extends Mount {\n\n\t#video?  : HTMLVideoElement;\n\t#isLoaded: Promise<boolean>;\n\n\tconstructor(li: HTMLElement, totalSize: number) {\n\t\tsuper(li);\n\t\tthis.base.classList.add(CLS_VIDEO);\n\n\t\tconst [vs0] = Array.from(li.querySelectorAll<HTMLVideoElement>(':scope > video, :scope > a > video'));\n\n\t\tif (vs0) {\n\t\t\tvs0.muted       = true;\n\t\t\tvs0.playsInline = true;\n\t\t\tif (totalSize === 1) {\n\t\t\t\tvs0.loop = true;\n\t\t\t}\n\t\t\tthis.#video = vs0;\n\t\t\tthis.base.appendChild(vs0);\n\t\t\tthis.#isLoaded = waitForAllVideos([vs0]);\n\t\t} else {\n\t\t\tthis.#isLoaded = Promise.resolve(false);\n\t\t}\n\t}\n\n\tisLoaded(): Promise<boolean> {\n\t\treturn this.#isLoaded;\n\t}\n\n\tonStateChanged(state: string, prev: string): void {\n\t\tsuper.onStateChanged(state, prev);\n\t\tif (!this.#video) return;\n\n\t\tif (prev === '' && (state === 'in' || state === 'display') && this.#video.paused) {\n\t\t\tthis.#video.autoplay = true;\n\t\t\tthis.#video.play();\n\t\t}\n\t\tif (prev === 'out' && state === '' && !this.#video.paused) {\n\t\t\tthis.#video.pause();\n\t\t\tthis.#video.currentTime = 0;\n\t\t}\n\t}\n\n\tgetDuration(_timeDur: number, timeTran: number, _randomRate: number): number {\n\t\treturn this.#video ? (this.#video.duration * 1000 - timeTran * 2) : 0;\n\t}\n\n}\n", "/**\n * Slide\n *\n * @author Takuto Yanagida\n * @version 2025-04-16\n */\n\nimport { Caption } from './caption';\nimport { Mount } from './mount';\nimport { MountImage } from \"./mount-image\";\nimport { MountVideo } from \"./mount-video\";\n\nconst DS_KEY_STATE = 'state';\n\nexport class Slide {\n\n\treadonly #li : HTMLElement;\n\treadonly #idx: number;\n\treadonly #mnt: Mount;\n\treadonly #cap: Caption | null;\n\n\tconstructor(li: HTMLElement, idx: number, totalSize: number) {\n\t\tthis.#li  = li;\n\t\tthis.#idx = idx;\n\n\t\tthis.#cap = Caption.create(li);\n\t\tconst hasVideo = li.querySelector<HTMLVideoElement>(':scope > video, :scope > a > video');\n\t\tthis.#mnt = hasVideo ? new MountVideo(li, totalSize) : new MountImage(li);\n\t}\n\n\tgetBase(): HTMLElement {\n\t\treturn this.#li;\n\t}\n\n\tgetIndex(): number {\n\t\treturn this.#idx;\n\t}\n\n\tsetState(state: string): void {\n\t\tconst prev: string = this.#li.dataset?.[DS_KEY_STATE] ?? '';\n\t\tif (prev === state) return;\n\n\t\tthis.#li.dataset[DS_KEY_STATE] = state;\n\t\tthis.#mnt.onStateChanged(state, prev);\n\t\tthis.#cap?.onStateChanged(state, prev);\n\t}\n\n\tonResize(): void {\n\t\tthis.#cap?.onResize();\n\t}\n\n\tisLoaded(): Promise<boolean> {\n\t\treturn this.#mnt.isLoaded();\n\t}\n\n\tgetDuration(timeDur: number, timeTran: number, randomRate: number): number {\n\t\treturn this.#mnt.getDuration(timeDur, timeTran, randomRate);\n\t}\n\n}\n", "/**\r\n * Transition\r\n *\r\n * @author Takuto Yanagida\r\n * @version 2025-04-16\r\n */\r\n\r\nimport { Slide } from './slide';\r\n\r\nexport const S_DISPLAY = 'display';\r\nexport const S_IN      = 'in';\r\nexport const S_OUT     = 'out';\r\n\r\nexport const CP_MOTION     = '--m';\r\nexport const CP_VISIBILITY = '--v';\r\n\r\nexport abstract class Transition {\r\n\r\n\tabstract transition(_idx: number, _dir: number): void;\r\n\r\n\tabstract isTransitioning(): boolean;\r\n\r\n}\r\n\r\nexport type Item = {\r\n\ts: Slide,\r\n\tm: number,\r\n\tv: number,\r\n};\r\n", "/**\n * Transition - Scroll\n *\n * @author Takuto Yanagida\n * @version 2025-04-21\n */\n\nimport { wrapAround, repeatAnimationFrame, snapToBinary } from './common';\nimport type { Slide } from './slide';\nimport { Transition, CP_MOTION, CP_VISIBILITY, S_IN, S_OUT, S_DISPLAY } from './transition';\nimport type { Item } from './transition';\n\nexport class TransitionScroll extends Transition {\n\n\t#its     : Item[];\n\t#timeTran: number;\n\t#current : number = 0;\n\t#shift   : number = 0;\n\t#speed   : number = 1;\n\n\t#sideSize: number = 2;\n\n\tconstructor(ss: Slide[], timeTran: number) {\n\t\tsuper();\n\t\tthis.#timeTran = timeTran;\n\n\t\tconst off: number = Math.floor(ss.length / 2);\n\t\tthis.#its = ss.map((_s, i) => ({\n\t\t\ts: ss[wrapAround(i - off, ss.length)]!,\n\t\t\tm: i - off,\n\t\t\tv: 0,\n\t\t}));\n\t\tthis.update();\n\t\trepeatAnimationFrame((_t: number, dt: number): void => this.step(dt));\n\t}\n\n\tprivate update(): void {\n\t\tfor (const it of this.#its) {\n\t\t\tit.s.getBase().style.setProperty(CP_MOTION, `${(it.m * 100).toFixed(2)}%`);\n\t\t\tit.s.getBase().style.setProperty(CP_VISIBILITY, `${(it.v * 100).toFixed(2)}%`);\n\t\t}\n\t}\n\n\ttransition(idx: number, dir: number): void {\n\t\tthis.#current = idx;\n\t\tlet off: number = this.getCurrent();\n\n\t\tlet minDx: number = Number.MAX_VALUE;\n\t\tlet tar: Item | null = null;\n\n\t\tif (0 <= dir) { // Forward or unspecified\n\t\t\tfor (let i: number = 0; i < this.#its.length; i += 1) {\n\t\t\t\tconst it = this.#its[wrapAround(i + off, this.#its.length)]!;\n\t\t\t\tif (it.s.getIndex() === idx && (dir === 0 || 0 < it.m) && Math.abs(it.m) < minDx) {\n\t\t\t\t\tminDx = Math.abs(it.m);\n\t\t\t\t\ttar = it;\n\t\t\t\t}\n\t\t\t}\n\t\t} else { // Backward\n\t\t\tfor (let i: number = this.#its.length - 1; 0 <= i; i -= 1) {\n\t\t\t\tconst it = this.#its[wrapAround(i + off, this.#its.length)]!;\n\t\t\t\tif (it.s.getIndex() === idx && it.m < 0 && Math.abs(it.m) < minDx) {\n\t\t\t\t\tminDx = Math.abs(it.m);\n\t\t\t\t\ttar = it;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (!tar) {\n\t\t\tfor (let i: number = 0; i < this.#its.length; i += 1) {\n\t\t\t\tconst it = this.#its[wrapAround(i + off, this.#its.length)]!;\n\t\t\t\tif (it.s.getIndex() === idx && Math.abs(it.m) < minDx) {\n\t\t\t\t\tminDx = Math.abs(it.m);\n\t\t\t\t\ttar = it;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (tar) {\n\t\t\tthis.#shift = tar.m;\n\t\t\tthis.#speed = Math.pow(Math.max(1, Math.abs(this.#shift)), 2);\n\t\t} else {\n\t\t\tthis.#shift = 0;\n\t\t\tthis.#speed = 1;\n\t\t}\n\t}\n\n\tisTransitioning(): boolean {\n\t\treturn this.#shift !== 0;\n\t}\n\n\tprivate getCurrent(): number {\n\t\tlet minDx: number = Number.MAX_VALUE;\n\t\tlet cur: number = 0;\n\n\t\tfor (let i: number = 0; i < this.#its.length; i += 1) {\n\t\t\tconst it = this.#its[i]!;\n\t\t\tif (Math.abs(it.m) < minDx) {\n\t\t\t\tminDx = Math.abs(it.m);\n\t\t\t\tcur = i;\n\t\t\t}\n\t\t}\n\t\treturn cur;\n\t}\n\n\tprivate step(dt: number): void {\n\t\tlet r: number = this.#speed * dt / this.#timeTran;\n\t\tif (Math.abs(this.#shift) < 0.1) {\n\t\t\tr *= Math.sin(Math.abs(this.#shift) * 10 * (Math.PI / 2)) / this.#speed;\n\t\t}\n\t\tconst d: number = Math.sign(this.#shift) * Math.min(r, Math.abs(this.#shift));\n\t\tthis.#shift -= d;\n\n\t\tfor (const it of this.#its) {\n\t\t\tit.m -= d;\n\t\t}\n\n\t\tconst it0: Item = this.#its[0]!;\n\t\tconst ltN: Item = this.#its[this.#its.length - 1]!;\n\t\tif (d < 0 && this.#sideSize + 0.5 < ltN.m) {\n\t\t\tconst it = this.#its.pop() as Item;\n\t\t\tit.m = it0.m - 1;\n\t\t\tthis.#its.unshift(it);\n\t\t} else if (0 < d && it0.m < -(this.#sideSize + 0.5)) {\n\t\t\tconst it = this.#its.shift() as Item;\n\t\t\tit.m = ltN.m + 1;\n\t\t\tthis.#its.push(it);\n\t\t}\n\t\tif (Math.abs(this.#shift) < 0.001) {\n\t\t\tfor (const it of this.#its) {\n\t\t\t\tit.m = Math.round(it.m - this.#shift);\n\t\t\t}\n\t\t\tthis.#shift = 0;\n\t\t}\n\n\t\tconst ul = this.#its[0]?.s.getBase().parentElement;\n\t\tif (!ul) return;\n\n\t\tfor (const it of this.#its) {\n\t\t\tconst e: number = snapToBinary(getOverlapRatio(it.s.getBase(), ul));\n\t\t\tconst isCur: boolean = it.s.getIndex() === this.#current;\n\t\t\tit.s.setState(this.getState(isCur, e));\n\t\t\tit.v = e;\n\t\t}\n\t\tthis.update();\n\t}\n\n\tprivate getState(isCur: boolean, e: number): string {\n\t\tif (isCur && e === 1) return S_DISPLAY;\n\t\tif (0 < e && e < 1) return isCur ? S_IN : S_OUT;\n\t\treturn '';\n\t}\n\n}\n\nfunction getOverlapRatio(target: HTMLElement, base: HTMLElement): number {\n\tconst rt: DOMRect = target.getBoundingClientRect();\n\tconst rb: DOMRect = base.getBoundingClientRect();\n\tconst x0: number = Math.max(rt.left, rb.left);\n\tconst x1: number = Math.min(rt.right, rb.right);\n\treturn 0 < rt.width ? Math.max(0, x1 - x0) / rt.width : 0;\n}\n", "/**\n * Transition - Slide\n *\n * @author Takuto Yanagida\n * @version 2025-04-16\n */\n\nimport { repeatAnimationFrame, snapToBinary } from './common';\nimport type { Slide } from './slide';\nimport { Transition, CP_MOTION, CP_VISIBILITY, S_IN, S_OUT, S_DISPLAY } from './transition';\nimport type { Item } from './transition';\n\nexport class TransitionSlide extends Transition {\n\n\t#timeTran       : number;\n\t#its            : Item[];\n\t#current        : number = 0;\n\t#beforeFirstStep: boolean = false;\n\n\tconstructor(ss: Slide[], timeTran: number) {\n\t\tsuper();\n\t\tthis.#timeTran = timeTran;\n\n\t\tthis.#its = ss.map((s, i) => ({\n\t\t\ts: s,\n\t\t\tm: i === 0 ? 0 : 1,\n\t\t\tv: 0,\n\t\t}));\n\t\tthis.update();\n\t\trepeatAnimationFrame((_t: number, dt: number): void => this.step(dt));\n\t}\n\n\tprivate update(): void {\n\t\tfor (const it of this.#its) {\n\t\t\tit.s.getBase().style.setProperty(CP_MOTION, `${(it.m * 100).toFixed(2)}%`);\n\t\t\tit.s.getBase().style.setProperty(CP_VISIBILITY, `${(it.v * 100).toFixed(2)}%`);\n\t\t}\n\t}\n\n\ttransition(idx: number, _dir: number): void {\n\t\tthis.#current         = idx;\n\t\tthis.#beforeFirstStep = true;\n\t}\n\n\tisTransitioning(): boolean {\n\t\tif (this.#beforeFirstStep) return true;\n\t\treturn this.#its.some(it => (it.s.getIndex() <= this.#current && 0 < it.m) ||\n\t\t\t(it.s.getIndex() > this.#current && it.m < 1)\n\t\t);\n\t}\n\n\tprivate step(dt: number): void {\n\t\tthis.#beforeFirstStep = false;\n\n\t\tconst r: number = dt / this.#timeTran;\n\t\tfor (const it of this.#its) {\n\t\t\tlet l: number = r;\n\t\t\tif (this.#current === it.s.getIndex() && Math.abs(it.m) < 0.1) {\n\t\t\t\tl = r * Math.sin(Math.abs(it.m) * 10 * (Math.PI / 2));\n\t\t\t}\n\t\t\tif (this.#current !== it.s.getIndex() && Math.abs(it.m) > 0.9) {\n\t\t\t\tl = r * Math.sin(Math.abs(1 - it.m) * 10 * (Math.PI / 2));\n\t\t\t}\n\t\t\tif (it.s.getIndex() <= this.#current) {\n\t\t\t\tit.m = Math.max(0, it.m - l);\n\t\t\t} else {\n\t\t\t\tit.m = Math.min(1, it.m + l);\n\t\t\t}\n\t\t\tit.m = snapToBinary(it.m);\n\t\t}\n\t\tlet isTransitioning: boolean = false;\n\t\tlet maxArea: number = 0;\n\t\tfor (let i: number = this.#its.length - 1; 0 <= i; i -= 1) {\n\t\t\tconst it: Item = this.#its[i]!;\n\t\t\tif (0 < it.m && it.m < 1) {\n\t\t\t\tisTransitioning = true;\n\t\t\t}\n\t\t\tconst isCur: boolean = it.s.getIndex() === this.#current;\n\t\t\tit.s.setState(this.getState(isCur, it.m, isTransitioning));\n\n\t\t\tconst a: number = 1 - it.m;\n\t\t\tif (maxArea < a) {\n\t\t\t\tit.v = snapToBinary(a - maxArea);\n\t\t\t\tmaxArea = a;\n\t\t\t} else {\n\t\t\t\tit.v = 0;\n\t\t\t}\n\t\t}\n\t\tthis.update();\n\t}\n\n\tprivate getState(isCur: boolean, m: number, isTransitioning: boolean): string {\n\t\tif (isTransitioning) return isCur ? S_IN : S_OUT;\n\t\tif (isCur && m === 0) return S_DISPLAY;\n\t\treturn '';\n\t}\n\n}\n", "/**\n * Transition - Fade\n *\n * @author Takuto Yanagida\n * @version 2025-04-16\n */\n\nimport { repeatAnimationFrame, snapToBinary } from './common';\nimport type { Slide } from './slide';\nimport { Transition, CP_VISIBILITY, S_IN, S_OUT, S_DISPLAY } from './transition';\nimport type { Item } from './transition';\n\nexport class TransitionFade extends Transition {\n\n\t#timeTran       : number;\n\t#its            : Item[];\n\t#current        : number = 0;\n\t#beforeFirstStep: boolean = false;\n\n\tconstructor(ss: Slide[], timeTran: number) {\n\t\tsuper();\n\t\tthis.#timeTran = timeTran;\n\n\t\tthis.#its = ss.map((s, i) => ({\n\t\t\ts: s,\n\t\t\tm: 0,\n\t\t\tv: i === 0 ? 1 : 0,\n\t\t}));\n\t\tthis.update();\n\t\trepeatAnimationFrame((_t: number, dt: number): void => this.step(dt));\n\t}\n\n\tprivate update(): void {\n\t\tfor (const it of this.#its) {\n\t\t\tit.s.getBase().style.setProperty(CP_VISIBILITY, `${(it.v * 100).toFixed(2)}%`);\n\t\t}\n\t}\n\n\ttransition(idx: number, _dir: number): void {\n\t\tthis.#current         = idx;\n\t\tthis.#beforeFirstStep = true;\n\t}\n\n\tisTransitioning(): boolean {\n\t\tif (this.#beforeFirstStep) return true;\n\t\treturn this.#its.some(it => (it.s.getIndex() === this.#current && it.v < 1) ||\n\t\t\t(it.s.getIndex() !== this.#current && 0 < it.v)\n\t\t);\n\t}\n\n\tprivate step(dt: number): void {\n\t\tthis.#beforeFirstStep = false;\n\n\t\tconst r: number = dt / this.#timeTran;\n\t\tfor (const it of this.#its) {\n\t\t\tconst isCur: boolean = it.s.getIndex() === this.#current;\n\t\t\tif (isCur) {\n\t\t\t\tit.v = Math.min(1, it.v + r);\n\t\t\t} else {\n\t\t\t\tit.v = Math.max(0, it.v - r);\n\t\t\t}\n\t\t\tit.v = snapToBinary(it.v);\n\t\t\tit.s.setState(this.getState(isCur, it.v));\n\t\t}\n\t\tthis.update();\n\t}\n\n\tprivate getState(isCur: boolean, v: number): string {\n\t\tif (v === 1) return S_DISPLAY;\n\t\tif (0 < v) return isCur ? S_IN : S_OUT;\n\t\treturn '';\n\t}\n\n}\n", "/**\n * Slider Simplex\n *\n * @author Takuto Yanagida\n * @version 2025-04-16\n */\n\nimport { getStylePropertyBool, getStylePropertyFloat, getStylePropertyString, getStylePropertyTime } from './custom-property';\nimport { detectTouch, repeatAnimationFrame, initializeViewportDetection, callAfterDocumentReady, wrapAround } from './common';\n\nimport { Background } from './part-background.js';\nimport { Navigation } from './part-navigation';\nimport { Pagination } from './part-pagination';\nimport { Indicator } from './part-indicator';\nimport { Selector } from './part-selector.js';\n\nimport { Slide } from './slide';\nimport { Transition } from './transition';\nimport { TransitionScroll } from './transition-scroll';\nimport { TransitionSlide } from './transition-slide';\nimport { TransitionFade } from './transition-fade';\n\nconst NS          = 'slider-simplex';\nconst CLS_SLIDES  = 'slides';\n\nconst CLS_START   = 'start';\nconst CLS_VIEW    = 'view';\nconst CLS_PAUSE   = 'pause';\nconst CLS_SCROLL  = 'scroll';\n\nconst CP_EFFECT_TYPE      = '--effect-type';\nconst CP_DURATION_TIME    = '--duration-time';\nconst CP_TRANSITION_TIME  = '--transition-time';\n\nconst CP_RANDOMIZE_TIMING = '--randomize-timing';\nconst CP_RANDOM_RATE      = '--random-rate';\n\nconst CP_SHOW_BACKGROUND  = '--show-background';\nconst CP_SHOW_SIDE_SLIDE  = '--show-side-slide';\n\nconst CP_CREATE_NAVIGATION = '--create-navigation';\nconst CP_CREATE_PAGINATION = '--create-pagination';\nconst CP_CREATE_SELECTOR   = '--create-selector';\n\nconst CP_VIEW_OFFSET = '--view-offset';\n\nexport class SliderSimplex {\n\n\tstatic create(id: string | null): SliderSimplex | null {\n\t\tif (id) {\n\t\t\tconst r: HTMLElement | null = document.getElementById(id);\n\t\t\tif (r) {\n\t\t\t\treturn new SliderSimplex(r);\n\t\t\t}\n\t\t} else {\n\t\t\tfor (const r of document.getElementsByClassName(NS)) {\n\t\t\t\tnew SliderSimplex(r as HTMLElement);\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n\n\treadonly #root: HTMLElement;\n\n\treadonly #effectType      : string\n\treadonly #timeDur         : number\n\treadonly #timeTran        : number\n\treadonly #randomRate      : number\n\n\treadonly #showBackground  : boolean;\n\treadonly #showSideSlide   : boolean;\n\n\treadonly #createNavigation: boolean;\n\treadonly #createPagination: boolean;\n\treadonly #createSelector  : boolean;\n\n\t#lis    : HTMLLIElement[] = [];\n\t#size   : number = 0;\n\t#slides : Slide[] = [];\n\t#effect!: Transition;\n\n\t#onTransitionEnd: (() => void) | null = null;\n\n\t#selector  : Selector   | null = null;\n\t#indicator : Indicator  | null = null;\n\t#pagination: Pagination | null = null;\n\t#background: Background | null = null;\n\n\t#curIdx      : number  = 0;\n\t#nextStepTime: number  = 0;\n\t#isWaiting   : boolean = false;\n\n\tconstructor(root: HTMLElement) {\n\t\tthis.#root = root;\n\n\t\tthis.#effectType       = getStylePropertyString(this.#root, CP_EFFECT_TYPE, 'fade');\n\t\tthis.#timeDur          = getStylePropertyTime(this.#root, CP_DURATION_TIME, 8000);\n\t\tthis.#timeTran         = getStylePropertyTime(this.#root, CP_TRANSITION_TIME, 1000);\n\n\t\tconst rt: boolean | null = getStylePropertyBool(this.#root, CP_RANDOMIZE_TIMING, null);\n\t\tthis.#randomRate         = rt === false ? 0 : getStylePropertyFloat(root, CP_RANDOM_RATE, rt === true ? 10 : 0);\n\n\t\tthis.#showBackground   = getStylePropertyBool(this.#root, CP_SHOW_BACKGROUND, false);\n\t\tthis.#showSideSlide    = getStylePropertyBool(this.#root, CP_SHOW_SIDE_SLIDE, false);\n\n\t\tthis.#createNavigation = getStylePropertyBool(this.#root, CP_CREATE_NAVIGATION);\n\t\tthis.#createPagination = getStylePropertyBool(this.#root, CP_CREATE_PAGINATION);\n\t\tthis.#createSelector   = getStylePropertyBool(this.#root, CP_CREATE_SELECTOR);\n\n\t\tconst viewOffset: number = getStylePropertyFloat(this.#root, CP_VIEW_OFFSET, 100);\n\n\t\t// ----\n\n\t\tconst ul   = this.#root.querySelector<HTMLElement>('.' + CLS_SLIDES);\n\t\tif (!ul) {\n\t\t\tconsole.error(`Slider Simplex (#${this.#root.id}): no slides`);\n\t\t\treturn;\n\t\t}\n\t\tthis.#lis  = Array.from(ul.getElementsByTagName('li'));\n\t\tthis.#size = this.#lis.length;\n\n\t\tif (this.#size === 0) {\n\t\t\tconsole.error(`Slider Simplex (#${this.#root.id}): no list items`);\n\t\t\treturn;\n\t\t}\n\n\t\tfor (const li of this.#lis) {\n\t\t\tli.dataset.effectType = li.dataset.effectType ?? this.#effectType;\n\t\t}\n\t\tif (this.#showBackground) {\n\t\t\tthis.#background = new Background(this.#root, this.#lis);\n\t\t}\n\t\tif (this.#showSideSlide) {\n\t\t\tul.dataset.showSideSlide = 'true';\n\t\t}\n\t\tthis.initSlides();\n\t\tdetectTouch(this.#root);\n\t\tinitializeViewportDetection(this.#root, CLS_VIEW, viewOffset);\n\t\tcallAfterDocumentReady((): Promise<void> => this.start());\n\t}\n\n\tgetController() {\n\t\treturn {\n\t\t\tmove: (idx: number): void => this.transition(idx, this.#size === 2 ? 1 : 0),\n\t\t\tnext: (): void => this.transition((this.#curIdx === this.#size - 1) ? 0               : (this.#curIdx + 1),  1),\n\t\t\tprev: (): void => this.transition((this.#curIdx === 0            ) ? (this.#size - 1) : (this.#curIdx - 1), -1),\n\n\t\t\tonTransitionEnd: (fn: () => void): void => { this.#onTransitionEnd = fn; }\n\t\t};\n\t}\n\n\n\t// -------------------------------------------------------------------------\n\n\n\tprivate initSlides(): void {\n\t\tif (this.#effectType === 'scroll' && 1 < this.#size && this.#size < 5) {\n\t\t\tthis.cloneLis();\n\t\t\tif (this.#size === 2) {\n\t\t\t\tthis.cloneLis();\n\t\t\t}\n\t\t}\n\t\tconst isScroll: boolean = this.#root.classList.contains(CLS_SCROLL);\n\n\t\tthis.#slides = this.#lis.map((li, i) => {\n\t\t\tif (isScroll) li.classList.add(CLS_SCROLL);\n\t\t\treturn new Slide(li, i % this.#size, this.#size);\n\t\t});\n\n\t\tconst ro = new ResizeObserver((): void => {\n\t\t\tfor (const s of this.#slides) {\n\t\t\t\ts.onResize();\n\t\t\t}\n\t\t});\n\t\tro.observe(this.#root);\n\n\t\tswitch (this.#effectType) {\n\t\t\tdefault      :  // Fallthrough intended\n\t\t\tcase 'fade'  : this.#effect = new TransitionFade(this.#slides, this.#timeTran); break;\n\t\t\tcase 'slide' : this.#effect = new TransitionSlide(this.#slides, this.#timeTran); break;\n\t\t\tcase 'scroll': this.#effect = new TransitionScroll(this.#slides, this.#timeTran); break;\n\t\t}\n\t}\n\n\tprivate cloneLis(): void {\n\t\tfor (let i: number = 0; i < this.#size; i += 1) {\n\t\t\tconst li: HTMLLIElement = this.#lis[i]!;\n\t\t\tconst nls = li.cloneNode(true) as HTMLLIElement;\n\t\t\tthis.#lis.push(nls);\n\t\t\tli.parentNode?.appendChild(nls);\n\t\t}\n\t}\n\n\tprivate async start(): Promise<void> {\n\t\tif (1 < this.#size) {\n\t\t\tconst fn = (idx: number, dir: -1 | 0 | 1) => this.transition(idx, dir);\n\n\t\t\tnew Navigation(this.#root, this.#timeTran, fn, this.#createNavigation);\n\t\t\tthis.#pagination = new Pagination(this.#root, this.#size, fn, this.#createPagination);\n\t\t\tthis.#selector   = new Selector(this.#root, this.#lis, this.#size, fn, this.#createSelector);\n\t\t}\n\t\tthis.#indicator = new Indicator(this.#root, this.#size);\n\n\t\tconst rs: boolean[] = await Promise.all(this.#slides.map((s: Slide): any => s.isLoaded()));\n\t\tif (rs.every((result: any): boolean => result === true)) {\n\t\t\tthis.transition(0, 0);\n\t\t\tsetTimeout((): void => {\n\t\t\t\tthis.#root.classList.add(CLS_START);\n\t\t\t\trepeatAnimationFrame((_t: number, _dt: number): void => this.step());\n\t\t\t}, 200);\n\t\t\tconsole.log(`Slider Simplex (#${this.#root.id}): successfully started`);\n\t\t} else {\n\t\t\tconsole.log(`Slider Simplex (#${this.#root.id}): failed to load media`);\n\t\t}\n\t}\n\n\n\t// -------------------------------------------------------------------------\n\n\n\tprivate transition(idx: number, dir: -1 | 0 | 1): void {\n\t\tif (idx === -1) {\n\t\t\tidx = wrapAround(this.#curIdx + dir, this.#size);\n\t\t}\n\t\tthis.#background?.transition(idx);\n\t\tthis.#pagination?.transition(idx);\n\t\tthis.#indicator?.transition(idx);\n\t\tthis.#selector?.transition(idx);\n\n\t\tthis.#effect.transition(idx, dir);\n\t\tthis.#curIdx    = idx;\n\t\tthis.#isWaiting = true;\n\n\t\tif (1 < this.#size) {\n\t\t\tconst dt: number = this.#slides[idx]?.getDuration(this.#timeDur, this.#timeTran, this.#randomRate) ?? this.#timeDur;\n\t\t\tthis.#nextStepTime = window.performance.now() + dt;\n\t\t}\n\t}\n\n\tprivate step(): void {\n\t\tif (this.#isWaiting && !this.#effect.isTransitioning()) {\n\t\t\tthis.#onTransitionEnd?.();\n\t\t\tthis.#isWaiting = false;\n\t\t}\n\t\tif (window.performance.now() < this.#nextStepTime) {\n\t\t\treturn;\n\t\t}\n\t\tif (!this.#root.classList.contains(CLS_VIEW) || this.#root.classList.contains(CLS_PAUSE)) {\n\t\t\tthis.#nextStepTime = window.performance.now() + 100;\n\t\t\treturn;\n\t\t}\n\t\tthis.#nextStepTime = Number.MAX_VALUE;\n\t\tthis.transition(-1, 1);\n\t}\n\n}\n"],
  "mappings": "mBAmBO,SAASA,EAAqBC,EAAkBC,EAAcC,EAAsB,GAAuB,CACjH,IAAMC,EAAYC,EAAaJ,EAAKC,CAAI,EACxC,GAAI,CAACE,EAAG,OAAOD,EACf,GAAI,CACH,OAAgB,KAAK,MAAMC,EAAE,YAAY,CAAC,IAAnC,EACR,MAAY,CACX,MAAO,EACR,CACD,CAEO,SAASE,EAAsBL,EAAkBC,EAAcC,EAAc,EAAW,CAC9F,IAAMC,EAAYC,EAAaJ,EAAKC,CAAI,EAClC,EAAY,WAAWE,CAAC,EAC9B,OAAO,MAAM,CAAC,EAAID,EAAM,CACzB,CAEO,SAASI,EAAuBN,EAAkBC,EAAcC,EAAc,GAAY,CAEhG,OADkBE,EAAaJ,EAAKC,CAAI,GAC5BC,CACb,CAEO,SAASK,EAAqBP,EAAkBC,EAAcC,EAAc,EAAW,CAC7F,IAAMC,EAAYC,EAAaJ,EAAKC,CAAI,EACxC,GAAI,CAACE,EAAG,OAAOD,EAEf,IAAMM,EAAaL,EAAE,YAAY,EAC7B,EAAY,GACZM,EAAY,IAYhB,GAVID,EAAG,SAAS,IAAI,GACnB,EAAIA,EAAG,MAAM,EAAG,EAAE,EAAE,KAAK,EACzBC,EAAI,GACMD,EAAG,SAAS,GAAG,GACzB,EAAIA,EAAG,MAAM,EAAG,EAAE,EAAE,KAAK,EACzBC,EAAI,MAEJ,EAAID,EAAG,KAAK,EACZC,EAAI,KAED,CAAC,EAAG,OAAOP,EACf,IAAMQ,EAAY,WAAW,CAAC,EAC9B,OAAO,MAAMA,CAAC,EAAIR,EAAMQ,EAAID,CAC7B,CAEA,SAASL,EAAaJ,EAAkBC,EAAsB,CAC7D,IAAIE,EAAY,iBAAiBH,CAAG,EAAE,iBAAiBC,CAAI,EAAE,KAAK,EAClE,OAAKE,EAAE,WAAW,GAAG,GAAKA,EAAE,SAAS,GAAG,GAAOA,EAAE,WAAW,GAAG,GAAKA,EAAE,SAAS,GAAG,KACjFA,EAAIA,EAAE,MAAM,EAAG,EAAE,GAEXA,CACR,CC9DO,SAASQ,EAAWC,EAAWC,EAAsB,CAC3D,OAAOA,GAAQD,EAAIA,EAAIC,EAAQD,EAAI,EAAIC,EAAOD,EAAIA,CACnD,CAEO,SAASE,EAAaF,EAAWG,EAAY,KAAgB,CACnE,OAAIH,EAAIG,EAAc,EAClB,EAAIA,EAAIH,EAAU,EACfA,CACR,CAMO,SAASI,EAAYC,EAAwB,CAC/C,EAAI,UAAU,gBACjBA,EAAI,iBAAiB,eAAiBF,GAA0B,CAC/D,IAAMG,EAAoBH,EAAE,cAAgB,QAC5CE,EAAI,UAAU,OAAO,QAASC,CAAO,CACtC,CAAC,CAEH,CAMO,SAASC,EAAqBC,EAA0D,CAC9F,IAAIC,EAAa,EACXC,EAA4BC,GAAoB,CACjDF,IAAO,GACVD,EAAGG,EAAGA,EAAIF,CAAE,EAEbA,EAAKE,EACL,OAAO,sBAAsBD,CAAE,CAChC,EACA,OAAO,sBAAsBA,CAAE,CAEhC,CAEO,SAASE,EAAuBJ,EAAsB,CAC1C,SAAS,aAAvB,UACH,SAAS,iBAAiB,mBAAoBA,CAAE,EAEhD,WAAWA,EAAI,CAAC,CAElB,CAMO,SAASK,EAA4BC,EAAmBC,EAAaC,EAAsB,CACtF,IAAI,qBAAsBC,GAA0C,CAC9E,QAAWd,KAAKc,EACfH,EAAK,UAAU,OAAOC,EAAKZ,EAAE,cAAc,CAE7C,EAAG,CAAE,WAAY,GAAGa,CAAM,QAAS,CAAC,EACjC,QAAQF,CAAI,EAEf,SAAS,iBAAiB,mBAAoB,IAAY,CAEzD,GADiC,SAAS,kBAAvB,UACZ,CACN,IAAMI,EAAaJ,EAAK,sBAAsB,EACxCK,EAAa,OAAO,YACtBD,EAAE,IAAMC,GAAK,EAAID,EAAE,QACtBJ,EAAK,UAAU,IAAIC,CAAG,CAExB,MACCD,EAAK,UAAU,OAAOC,CAAG,CAE3B,CAAC,CACF,CAMO,SAASK,EAAiBC,EAA0C,CAC1E,OAAO,QAAQ,IACdA,EAAG,IAAKC,GACHA,EAAE,UAAYA,EAAE,eAAiB,EAC7B,QAAQ,QAAQ,EAEjB,IAAI,QAAc,CAACC,EAASC,IAAW,CAC7CF,EAAE,iBAAiB,OAAQ,IAAYC,EAAQ,EAAG,CAAE,KAAM,EAAK,CAAC,EAChED,EAAE,iBAAiB,QAAS,IAAYE,EAAO,IAAI,MAAM,sBAAsB,CAAC,EAAG,CAAE,KAAM,EAAK,CAAC,CAClG,CAAC,CACD,CACF,EAAE,KACD,IAAe,GACf,IAAe,EAChB,CACD,CAEO,SAASC,EAAiBC,EAA0C,CAC1E,OAAO,QAAQ,IACdA,EAAG,IAAKC,GACHA,EAAE,YAAc,EACZ,QAAQ,QAAQ,EAEjB,IAAI,QAAc,CAACJ,EAASC,IAAW,CAC7CG,EAAE,iBAAiB,iBAAkB,IAAYJ,EAAQ,EAAG,CAAE,KAAM,EAAK,CAAC,EAC1EI,EAAE,iBAAiB,QAAS,IAAYH,EAAO,IAAI,MAAM,+BAA+B,CAAC,EAAG,CAAE,KAAM,EAAK,CAAC,CAC3G,CAAC,CACD,CACF,EAAE,KACD,IAAe,GACf,IAAe,EAChB,CACD,CC9GA,IAAMI,GAAc,aACdC,GAAc,UAEPC,EAAN,KAAiB,CAEvBC,GAAqB,CAAC,EAEtB,YAAYC,EAAmBC,EAAoB,CAClD,IAAMC,EAAoB,SAAS,cAAc,KAAK,EACtDA,EAAK,UAAU,IAAIN,EAAM,EACzBI,EAAK,aAAaE,EAAMF,EAAK,UAAU,EAEvC,KAAKD,GAAME,EAAI,IAAIE,GAAM,CACxB,IAAMC,EAA+BD,EAAG,cAAgC,KAAK,EACvEE,EAAkBD,EAAMA,EAAI,UAAU,EAAK,EAAmB,SAAS,cAAc,KAAK,EAChG,OAAAF,EAAK,YAAYG,CAAE,EACZA,CACR,CAAC,CACF,CAEA,WAAWC,EAAmB,CAC7B,KAAKP,GAAI,QAAQ,CAACQ,EAAG,IAAM,CAC1BA,EAAE,UAAU,OAAOV,GAAa,IAAMS,CAAG,CAC1C,CAAC,CACF,CAED,EC1BA,IAAME,EAAiB,aACjBC,EAAiB,SACjBC,GAAiB,QAMhB,IAAMC,EAAN,KAAiB,CAEvBC,GACAC,GAEA,YAAYC,EAAmBC,EAAkBC,EAAQC,EAAkB,GAAM,CAChF,IAAIC,EAAOJ,EAAK,cAA2B,IAAMK,CAAc,EAC3D,CAACD,GAAQD,IACZC,EAAO,SAAS,cAAc,KAAK,EACnCA,EAAK,UAAU,IAAIC,CAAc,EACjCL,EAAK,YAAYI,CAAI,GAEjBA,IAEL,KAAKN,GAAM,CACV,IAAYI,EAAG,GAAI,EAAE,EACrB,IAAYA,EAAG,GAAK,CAAC,CACtB,EACA,KAAKH,GAAM,KAAK,cAAcK,CAAI,EAElCA,EAAK,iBAAiB,aAAc,IAAY,KAAK,UAAU,CAACJ,EAAK,UAAU,SAASM,EAAS,CAAC,CAAC,EACnGF,EAAK,iBAAiB,aAAc,IAAY,KAAK,UAAU,EAAK,CAAC,EAErE,KAAK,gBAAgBJ,EAAMC,EAAW,CAAC,EACxC,CAEQ,cAAcG,EAAwC,CAC7D,IAAIG,EAA0B,MAAM,KAAKH,EAAK,iBAAoC,iBAAiB,CAAC,EAEpG,GAAIG,EAAG,SAAW,EAAG,CACpB,IAAMC,EAAwB,SAAS,cAAc,QAAQ,EACvDC,EAAwB,SAAS,cAAc,QAAQ,EAC7DL,EAAK,YAAYI,CAAE,EACnBJ,EAAK,YAAYK,CAAE,EACnBF,EAAK,CAACC,EAAIC,CAAE,CACb,CACA,OAAAF,EAAG,QAAQ,CAACG,EAAGC,IAAM,CACpBD,EAAE,UAAU,IAAIL,CAAc,EAC9BK,EAAE,iBAAiB,QAAS,IAAY,KAAK,QAAQC,CAAC,CAAC,CACxD,CAAC,EACMJ,CACR,CAEQ,QAAQK,EAAmB,CAClC,KAAKd,GAAIc,CAAG,IAAI,CACjB,CAEQ,UAAUC,EAAqB,CACtC,QAAWH,KAAK,KAAKX,GACpBW,EAAE,UAAU,OAAOI,EAAYD,CAAI,CAErC,CAEQ,gBAAgBT,EAAmBW,EAAqB,CAC/D,IAAMC,EAAwB,CAAC,EAAG,CAAC,EAC/BC,EAAoB,KAExBb,EAAK,iBAAiB,aAAec,GAAwB,CACxDA,EAAE,QAAQ,SAAW,EACxBD,EAAKC,EAAE,QAAQ,CAAC,GAAG,OAAS,KAE5BD,EAAK,IAEP,EAAG,CAAE,QAAS,EAAK,CAAC,EACpBb,EAAK,iBAAiB,YAAcc,GAAwB,CAC3D,GAAID,IAAO,MAAQC,EAAE,QAAQ,SAAW,EAAG,OAE3C,IAAMN,EAAc,KAAK,YAAYK,EAAIC,EAAE,QAAQ,CAAC,CAAC,EACrD,GAAIN,IAAQ,GAAI,CACXM,EAAE,YACLA,EAAE,eAAe,EAElB,KAAKpB,GAAIc,CAAG,IAAI,EAEhB,IAAMF,EAAI,KAAKX,GAAIa,CAAG,EAClBF,IACH,aAAaM,EAAIJ,CAAG,CAAC,EACrBF,EAAE,UAAU,IAAII,CAAU,EAC1BE,EAAIJ,CAAG,EAAI,WAAW,IAAYF,EAAE,UAAU,OAAOI,CAAU,EAAGC,CAAK,GAExEE,EAAK,IACN,CACD,EAAG,CAAE,QAAS,EAAM,CAAC,EAErB,IAAME,EAAa,IAAY,CAC9BF,EAAK,IACN,EACAb,EAAK,iBAAiB,WAAYe,EAAY,CAAE,QAAS,EAAK,CAAC,EAC/Df,EAAK,iBAAiB,cAAee,EAAY,CAAE,QAAS,EAAK,CAAC,CACnE,CAEQ,YAAYF,EAAYG,EAA8B,CAC7D,GAAIH,IAAO,MAAQ,CAACG,EAAG,MAAO,GAE9B,IAAMC,EAAYD,EAAE,MACpB,OAAIH,EAAK,GAAWI,EAAU,EAC1BA,EAAIJ,EAAK,GAAiB,EACvB,EACR,CAED,EC5GA,IAAMK,EAAiB,aACjBC,GAAiB,UAIVC,EAAN,KAAiB,CAEvBC,GAAqB,CAAC,EAEtB,YAAYC,EAAmBC,EAAcC,EAAQC,EAAkB,GAAM,CAC5E,IAAIC,EAAOJ,EAAK,cAAc,IAAMJ,CAAc,EAMlD,GALI,CAACQ,GAAQD,IACZC,EAAO,SAAS,cAAc,KAAK,EACnCA,EAAK,UAAU,IAAIR,CAAc,EACjCI,EAAK,YAAYI,CAAI,GAElB,CAACA,EAAM,OAEX,IAAMC,EAAsBD,EAAK,cAAgC,aAAa,GAAKA,EAAK,YAAY,SAAS,cAAc,IAAI,CAAC,EAC1HE,EAAML,IAAS,EAAI,EAAI,EAE7B,QAASM,EAAY,EAAGA,EAAIN,EAAMM,GAAK,EACtCF,EAAE,YAAY,KAAK,aAAaH,EAAIK,EAAGD,CAAG,CAAC,CAE7C,CAEQ,aAAaJ,EAAQK,EAAWD,EAA8B,CACrE,IAAME,EAAiB,SAAS,cAAc,IAAI,EAClD,OAAAA,EAAE,iBAAiB,QAAS,IAAYN,EAAGK,EAAGD,CAAG,CAAC,EAClD,KAAKP,GAAI,KAAKS,CAAC,EACRA,CACR,CAEA,WAAWC,EAAmB,CAC7B,KAAKV,GAAI,QAAQ,CAACW,EAAG,IAAM,CAC1BA,EAAE,UAAU,OAAOb,GAAa,IAAMY,CAAG,CAC1C,CAAC,CACF,CAED,ECvCA,IAAME,GAAgB,cAChBC,GAAgB,cAETC,EAAN,KAAgB,CAEtBC,GAAsB,CAAC,EAEvB,YAAYC,EAAmBC,EAAc,CAC5C,IAAMC,EAAM,MAAM,KAAKF,EAAK,iBAA8B,IAAMJ,EAAa,CAAC,EAC9E,QAAWO,KAAOD,EACjBC,EAAI,UAAY,GAAGF,CAAI,GAExB,KAAKF,GAAO,MAAM,KAAKC,EAAK,iBAA8B,IAAMH,EAAa,CAAC,EAC9E,QAAWM,KAAO,KAAKJ,GACtBI,EAAI,UAAY,GAElB,CAEA,WAAWC,EAAmB,CAC7B,QAAW,KAAK,KAAKL,GACpB,EAAE,UAAY,GAAGK,EAAM,CAAC,EAE1B,CACD,ECvBA,IAAMC,EAAe,WACfC,GAAe,UAIRC,EAAN,KAAe,CAErBC,GAAqB,CAAC,EAEtB,YAAYC,EAAmBC,EAAoBC,EAAcC,EAAQC,EAAkB,GAAM,CAChG,IAAIC,EAA2BL,EAAK,cAA2B,IAAMJ,CAAY,EAMjF,GALI,CAACS,GAAQD,IACZC,EAAO,SAAS,cAAc,KAAK,EACnCA,EAAK,UAAU,IAAIT,CAAY,EAC/BI,EAAK,YAAYK,CAAI,GAElB,CAACA,EAAM,OAEX,IAAMC,EAAsBD,EAAK,cAAgC,aAAa,GAAKA,EAAK,YAAY,SAAS,cAAc,IAAI,CAAC,EAC1HE,EAAML,IAAS,EAAI,EAAI,EAE7B,QAASM,EAAY,EAAGA,EAAIN,EAAMM,GAAK,EACtCF,EAAE,YAAY,KAAK,gBAAgBL,EAAIO,CAAC,EAAIL,EAAIK,EAAGD,CAAG,CAAC,CAEzD,CAEQ,gBAAgBE,EAAiBN,EAAQ,EAAWI,EAA8B,CACzF,IAAMG,EAAiB,SAAS,cAAc,IAAI,EAE5CC,EAA+BF,EAAG,cAAgC,KAAK,EACvEG,EAAmBD,EAAMA,EAAI,UAAU,EAAK,EAAmB,SAAS,cAAc,KAAK,EACjG,OAAAD,EAAE,YAAYE,CAAE,EAEhBF,EAAE,iBAAiB,QAAS,IAAYP,EAAG,EAAGI,CAAG,CAAC,EAClD,KAAKR,GAAI,KAAKW,CAAC,EACRA,CACR,CAEA,WAAWG,EAAmB,CAC7B,KAAKd,GAAI,QAAQ,CAACe,EAAG,IAAM,CAC1BA,EAAE,UAAU,OAAOjB,GAAa,IAAMgB,CAAG,CAC1C,CAAC,CACF,CAED,EC5CA,IAAME,EAAc,UAEdC,EAAe,WACfC,EAAe,SACfC,EAAe,OACfC,EAAe,SAEfC,GAAe,QAERC,EAAN,MAAMC,CAAQ,CAEpB,OAAO,OAAOC,EAAiC,CAC9C,IAAMC,EAA0BD,EAAG,cAAc,gCAAgC,EACjF,OAAIC,EACK,IAAIF,EAAQE,CAAG,EAEjB,IACR,CAEAC,GACAC,GAAgBV,EAEhB,YAAYW,EAAmB,CAC9B,KAAKF,GAAQE,EAERA,EAAK,UAAU,SAASZ,CAAW,GACvCY,EAAK,UAAU,IAAIZ,CAAW,EAE3B,CAACY,EAAK,UAAU,SAAST,CAAQ,GAAK,CAACS,EAAK,UAAU,SAASV,CAAU,GAAK,CAACU,EAAK,UAAU,SAASR,CAAU,GACpHQ,EAAK,UAAU,IAAIX,CAAY,EAE5BW,EAAK,UAAU,SAAST,CAAQ,IAAO,KAAKQ,GAAQR,GACpDS,EAAK,UAAU,SAASV,CAAU,IAAK,KAAKS,GAAQT,GACpDU,EAAK,UAAU,SAASX,CAAY,IAAG,KAAKU,GAAQV,GACpDW,EAAK,UAAU,SAASR,CAAU,IAAK,KAAKO,GAAQP,GAExD,KAAK,KAAKQ,CAAI,EACd,QAAWC,KAAKD,EAAK,iBAA8B,cAAc,EAChE,KAAK,aAAaC,CAAC,CAErB,CAEQ,KAAKJ,EAAwB,CACpC,IAAMK,EAAa,CAAC,EAEpB,QAAWC,KAAK,MAAM,KAAKN,EAAI,UAAU,EACpC,KAAK,eAAiBM,EAAE,SACZA,EAAc,UAAzB,MACH,KAAK,oBAAoBN,EAAKK,EAAIC,CAAC,EACfA,EAAc,UAAxB,MACV,KAAK,oBAAoBN,EAAKK,EAAIC,CAAC,EACnCN,EAAI,YAAYM,CAAC,GAEjBD,EAAG,KAAKC,CAAC,GAGWA,EAAW,WAAW,KAAK,GAAK,IAC7C,QACPD,EAAG,KAAKC,CAAC,EAIZ,KAAK,oBAAoBN,EAAKK,EAAI,IAAI,CACvC,CAEQ,oBAAoBE,EAASC,EAAYC,EAAwB,CACxE,GAAID,EAAG,OAAQ,CACd,IAAME,EAAmB,SAAS,cAAc,KAAK,EACrD,QAAWC,KAAKH,EACfE,EAAI,YAAYH,EAAE,YAAYI,CAAC,CAAC,EAEjCJ,EAAE,aAAaG,EAAKD,CAAG,EACvBD,EAAG,OAAS,CACb,CACD,CAEQ,aAAaD,EAAsB,CAC1C,IAAMK,EAAoB,SAAS,cAAc,MAAM,EACvD,QAAWD,KAAK,MAAM,KAAKJ,EAAE,UAAU,EACtCK,EAAK,YAAYL,EAAE,YAAYI,CAAC,CAAC,EAElCC,EAAK,UAAYA,EAAK,UAAU,KAAK,EACrCL,EAAE,YAAYK,CAAI,CACnB,CAEA,eAAeC,EAAeC,EAAqB,CAClD,KAAKb,GAAM,QAAQL,EAAY,EAAIiB,CACpC,CAEA,UAAiB,CAChB,IAAME,EAAU,OAAO,WAAa,IACpC,KAAKd,GAAM,UAAU,OAAOc,EAAU,KAAKb,GAAQV,CAAY,EAC/D,KAAKS,GAAM,UAAU,IAAIc,EAAUvB,EAAe,KAAKU,EAAK,CAC7D,CAED,EC/FO,IAAMc,EAAY,QACZC,EAAY,QAEZC,EAAa,SACbC,GAAa,OAEpBC,GAAe,QAECC,EAAf,KAAqB,CAEjB,KAEV,YAAYC,EAAiB,CAC5B,KAAK,KAAO,SAAS,cAAc,KAAK,EACxC,IAAM,EAAiBA,EAAG,cAAc,GAAG,GAAKA,EAChD,EAAE,aAAa,KAAK,KAAM,EAAE,UAAU,CACvC,CAIA,eAAeC,EAAeC,EAAqB,CAClD,KAAK,KAAK,QAAQJ,EAAY,EAAIG,CACnC,CAEA,YAAYE,EAAiBC,EAAmBC,EAA6B,CAC5E,OAAOF,CACR,CAED,ECzBO,IAAMG,EAAN,cAAyBC,CAAM,CAErCC,GAEA,YAAYC,EAAiB,CAC5B,MAAMA,CAAE,EACR,KAAK,KAAK,UAAU,IAAIC,CAAS,EAE7BD,EAAG,UAAU,SAASE,CAAU,GACnC,KAAK,KAAK,UAAU,IAAIA,CAAU,EAGnC,GAAM,CAACC,EAAKC,CAAG,EAAI,MAAM,KAAKJ,EAAG,iBAAmC,gCAAgC,CAAC,EAC/FK,EAA6B,CAAC,EAEhCF,IACH,KAAK,KAAK,YAAYA,CAAG,EACzBE,EAAO,KAAKF,CAAG,EACXC,IACH,KAAK,KAAK,UAAU,IAAIE,EAAQ,EAChC,KAAK,KAAK,YAAYF,CAAG,EACzBC,EAAO,KAAKD,CAAG,IAGjB,KAAKL,GAAYM,EAAO,OAASE,EAAiBF,CAAM,EAAI,QAAQ,QAAQ,EAAK,CAClF,CAEA,UAA6B,CAC5B,OAAO,KAAKN,EACb,CAEA,YAAYS,EAAiBC,EAAmBC,EAAqB,EAAW,CAC/E,OAAOA,EAAcF,GAAW,EAAI,IAAOE,GAAc,EAAI,KAAK,OAAO,EAAI,IAAOF,CACrF,CAED,ECnCO,IAAMG,EAAN,cAAyBC,CAAM,CAErCC,GACAC,GAEA,YAAYC,EAAiBC,EAAmB,CAC/C,MAAMD,CAAE,EACR,KAAK,KAAK,UAAU,IAAIE,CAAS,EAEjC,GAAM,CAACC,CAAG,EAAI,MAAM,KAAKH,EAAG,iBAAmC,oCAAoC,CAAC,EAEhGG,GACHA,EAAI,MAAc,GAClBA,EAAI,YAAc,GACdF,IAAc,IACjBE,EAAI,KAAO,IAEZ,KAAKL,GAASK,EACd,KAAK,KAAK,YAAYA,CAAG,EACzB,KAAKJ,GAAYK,EAAiB,CAACD,CAAG,CAAC,GAEvC,KAAKJ,GAAY,QAAQ,QAAQ,EAAK,CAExC,CAEA,UAA6B,CAC5B,OAAO,KAAKA,EACb,CAEA,eAAeM,EAAeC,EAAoB,CACjD,MAAM,eAAeD,EAAOC,CAAI,EAC3B,KAAKR,KAENQ,IAAS,KAAOD,IAAU,MAAQA,IAAU,YAAc,KAAKP,GAAO,SACzE,KAAKA,GAAO,SAAW,GACvB,KAAKA,GAAO,KAAK,GAEdQ,IAAS,OAASD,IAAU,IAAM,CAAC,KAAKP,GAAO,SAClD,KAAKA,GAAO,MAAM,EAClB,KAAKA,GAAO,YAAc,GAE5B,CAEA,YAAYS,EAAkBC,EAAkBC,EAA6B,CAC5E,OAAO,KAAKX,GAAU,KAAKA,GAAO,SAAW,IAAOU,EAAW,EAAK,CACrE,CAED,EC7CA,IAAME,GAAe,QAERC,EAAN,KAAY,CAETC,GACAC,GACAC,GACAC,GAET,YAAYC,EAAiBC,EAAaC,EAAmB,CAC5D,KAAKN,GAAOI,EACZ,KAAKH,GAAOI,EAEZ,KAAKF,GAAOI,EAAQ,OAAOH,CAAE,EAC7B,IAAMI,EAAWJ,EAAG,cAAgC,oCAAoC,EACxF,KAAKF,GAAOM,EAAW,IAAIC,EAAWL,EAAIE,CAAS,EAAI,IAAII,EAAWN,CAAE,CACzE,CAEA,SAAuB,CACtB,OAAO,KAAKJ,EACb,CAEA,UAAmB,CAClB,OAAO,KAAKC,EACb,CAEA,SAASU,EAAqB,CAC7B,IAAMC,EAAe,KAAKZ,GAAI,UAAUF,EAAY,GAAK,GACrDc,IAASD,IAEb,KAAKX,GAAI,QAAQF,EAAY,EAAIa,EACjC,KAAKT,GAAK,eAAeS,EAAOC,CAAI,EACpC,KAAKT,IAAM,eAAeQ,EAAOC,CAAI,EACtC,CAEA,UAAiB,CAChB,KAAKT,IAAM,SAAS,CACrB,CAEA,UAA6B,CAC5B,OAAO,KAAKD,GAAK,SAAS,CAC3B,CAEA,YAAYW,EAAiBC,EAAkBC,EAA4B,CAC1E,OAAO,KAAKb,GAAK,YAAYW,EAASC,EAAUC,CAAU,CAC3D,CAED,EClDO,IAAMC,EAAY,UACZC,EAAY,KACZC,EAAY,MAEZC,EAAgB,MAChBC,EAAgB,MAEPC,EAAf,KAA0B,CAMjC,ECVO,IAAMC,EAAN,cAA+BC,CAAW,CAEhDC,GACAC,GACAC,GAAoB,EACpBC,GAAoB,EACpBC,GAAoB,EAEpBC,GAAoB,EAEpB,YAAYC,EAAaC,EAAkB,CAC1C,MAAM,EACN,KAAKN,GAAYM,EAEjB,IAAMC,EAAc,KAAK,MAAMF,EAAG,OAAS,CAAC,EAC5C,KAAKN,GAAOM,EAAG,IAAI,CAACG,EAAIC,KAAO,CAC9B,EAAGJ,EAAGK,EAAWD,EAAIF,EAAKF,EAAG,MAAM,CAAC,EACpC,EAAGI,EAAIF,EACP,EAAG,CACJ,EAAE,EACF,KAAK,OAAO,EACZI,EAAqB,CAACC,EAAYC,IAAqB,KAAK,KAAKA,CAAE,CAAC,CACrE,CAEQ,QAAe,CACtB,QAAWC,KAAM,KAAKf,GACrBe,EAAG,EAAE,QAAQ,EAAE,MAAM,YAAYC,EAAW,IAAID,EAAG,EAAI,KAAK,QAAQ,CAAC,CAAC,GAAG,EACzEA,EAAG,EAAE,QAAQ,EAAE,MAAM,YAAYE,EAAe,IAAIF,EAAG,EAAI,KAAK,QAAQ,CAAC,CAAC,GAAG,CAE/E,CAEA,WAAWG,EAAaC,EAAmB,CAC1C,KAAKjB,GAAWgB,EAChB,IAAIV,EAAc,KAAK,WAAW,EAE9BY,EAAgB,OAAO,UACvBC,EAAmB,KAEvB,GAAI,GAAKF,EACR,QAAST,EAAY,EAAGA,EAAI,KAAKV,GAAK,OAAQU,GAAK,EAAG,CACrD,IAAMK,EAAK,KAAKf,GAAKW,EAAWD,EAAIF,EAAK,KAAKR,GAAK,MAAM,CAAC,EACtDe,EAAG,EAAE,SAAS,IAAMG,IAAQC,IAAQ,GAAK,EAAIJ,EAAG,IAAM,KAAK,IAAIA,EAAG,CAAC,EAAIK,IAC1EA,EAAQ,KAAK,IAAIL,EAAG,CAAC,EACrBM,EAAMN,EAER,KAEA,SAASL,EAAY,KAAKV,GAAK,OAAS,EAAG,GAAKU,EAAGA,GAAK,EAAG,CAC1D,IAAMK,EAAK,KAAKf,GAAKW,EAAWD,EAAIF,EAAK,KAAKR,GAAK,MAAM,CAAC,EACtDe,EAAG,EAAE,SAAS,IAAMG,GAAOH,EAAG,EAAI,GAAK,KAAK,IAAIA,EAAG,CAAC,EAAIK,IAC3DA,EAAQ,KAAK,IAAIL,EAAG,CAAC,EACrBM,EAAMN,EAER,CAED,GAAI,CAACM,EACJ,QAASX,EAAY,EAAGA,EAAI,KAAKV,GAAK,OAAQU,GAAK,EAAG,CACrD,IAAMK,EAAK,KAAKf,GAAKW,EAAWD,EAAIF,EAAK,KAAKR,GAAK,MAAM,CAAC,EACtDe,EAAG,EAAE,SAAS,IAAMG,GAAO,KAAK,IAAIH,EAAG,CAAC,EAAIK,IAC/CA,EAAQ,KAAK,IAAIL,EAAG,CAAC,EACrBM,EAAMN,EAER,CAEGM,GACH,KAAKlB,GAASkB,EAAI,EAClB,KAAKjB,GAAS,KAAK,IAAI,KAAK,IAAI,EAAG,KAAK,IAAI,KAAKD,EAAM,CAAC,EAAG,CAAC,IAE5D,KAAKA,GAAS,EACd,KAAKC,GAAS,EAEhB,CAEA,iBAA2B,CAC1B,OAAO,KAAKD,KAAW,CACxB,CAEQ,YAAqB,CAC5B,IAAIiB,EAAgB,OAAO,UACvBE,EAAc,EAElB,QAAS,EAAY,EAAG,EAAI,KAAKtB,GAAK,OAAQ,GAAK,EAAG,CACrD,IAAMe,EAAK,KAAKf,GAAK,CAAC,EAClB,KAAK,IAAIe,EAAG,CAAC,EAAIK,IACpBA,EAAQ,KAAK,IAAIL,EAAG,CAAC,EACrBO,EAAM,EAER,CACA,OAAOA,CACR,CAEQ,KAAKR,EAAkB,CAC9B,IAAIS,EAAY,KAAKnB,GAASU,EAAK,KAAKb,GACpC,KAAK,IAAI,KAAKE,EAAM,EAAI,KAC3BoB,GAAK,KAAK,IAAI,KAAK,IAAI,KAAKpB,EAAM,EAAI,IAAM,KAAK,GAAK,EAAE,EAAI,KAAKC,IAElE,IAAMoB,EAAY,KAAK,KAAK,KAAKrB,EAAM,EAAI,KAAK,IAAIoB,EAAG,KAAK,IAAI,KAAKpB,EAAM,CAAC,EAC5E,KAAKA,IAAUqB,EAEf,QAAWT,KAAM,KAAKf,GACrBe,EAAG,GAAKS,EAGT,IAAMC,EAAY,KAAKzB,GAAK,CAAC,EACvB0B,EAAY,KAAK1B,GAAK,KAAKA,GAAK,OAAS,CAAC,EAChD,GAAIwB,EAAI,GAAK,KAAKnB,GAAY,GAAMqB,EAAI,EAAG,CAC1C,IAAMX,EAAK,KAAKf,GAAK,IAAI,EACzBe,EAAG,EAAIU,EAAI,EAAI,EACf,KAAKzB,GAAK,QAAQe,CAAE,CACrB,SAAW,EAAIS,GAAKC,EAAI,EAAI,EAAE,KAAKpB,GAAY,IAAM,CACpD,IAAMU,EAAK,KAAKf,GAAK,MAAM,EAC3Be,EAAG,EAAIW,EAAI,EAAI,EACf,KAAK1B,GAAK,KAAKe,CAAE,CAClB,CACA,GAAI,KAAK,IAAI,KAAKZ,EAAM,EAAI,KAAO,CAClC,QAAWY,KAAM,KAAKf,GACrBe,EAAG,EAAI,KAAK,MAAMA,EAAG,EAAI,KAAKZ,EAAM,EAErC,KAAKA,GAAS,CACf,CAEA,IAAMwB,EAAK,KAAK3B,GAAK,CAAC,GAAG,EAAE,QAAQ,EAAE,cACrC,GAAK2B,EAEL,SAAWZ,KAAM,KAAKf,GAAM,CAC3B,IAAM4B,EAAYC,EAAaC,GAAgBf,EAAG,EAAE,QAAQ,EAAGY,CAAE,CAAC,EAC5DI,EAAiBhB,EAAG,EAAE,SAAS,IAAM,KAAKb,GAChDa,EAAG,EAAE,SAAS,KAAK,SAASgB,EAAOH,CAAC,CAAC,EACrCb,EAAG,EAAIa,CACR,CACA,KAAK,OAAO,EACb,CAEQ,SAASG,EAAgB,EAAmB,CACnD,OAAIA,GAAS,IAAM,EAAUC,EACzB,EAAI,GAAK,EAAI,EAAUD,EAAQE,EAAOC,EACnC,EACR,CAED,EAEA,SAASJ,GAAgBK,EAAqBC,EAA2B,CACxE,IAAMC,EAAcF,EAAO,sBAAsB,EAC3CG,EAAcF,EAAK,sBAAsB,EACzCG,EAAa,KAAK,IAAIF,EAAG,KAAMC,EAAG,IAAI,EACtCE,EAAa,KAAK,IAAIH,EAAG,MAAOC,EAAG,KAAK,EAC9C,MAAO,GAAID,EAAG,MAAQ,KAAK,IAAI,EAAGG,EAAKD,CAAE,EAAIF,EAAG,MAAQ,CACzD,CCnJO,IAAMI,EAAN,cAA8BC,CAAW,CAE/CC,GACAC,GACAC,GAA2B,EAC3BC,GAA4B,GAE5B,YAAYC,EAAaC,EAAkB,CAC1C,MAAM,EACN,KAAKL,GAAYK,EAEjB,KAAKJ,GAAOG,EAAG,IAAI,CAACE,EAAGC,KAAO,CAC7B,EAAGD,EACH,EAAGC,IAAM,EAAI,EAAI,EACjB,EAAG,CACJ,EAAE,EACF,KAAK,OAAO,EACZC,EAAqB,CAACC,EAAYC,IAAqB,KAAK,KAAKA,CAAE,CAAC,CACrE,CAEQ,QAAe,CACtB,QAAWC,KAAM,KAAKV,GACrBU,EAAG,EAAE,QAAQ,EAAE,MAAM,YAAYC,EAAW,IAAID,EAAG,EAAI,KAAK,QAAQ,CAAC,CAAC,GAAG,EACzEA,EAAG,EAAE,QAAQ,EAAE,MAAM,YAAYE,EAAe,IAAIF,EAAG,EAAI,KAAK,QAAQ,CAAC,CAAC,GAAG,CAE/E,CAEA,WAAWG,EAAaC,EAAoB,CAC3C,KAAKb,GAAmBY,EACxB,KAAKX,GAAmB,EACzB,CAEA,iBAA2B,CAC1B,OAAI,KAAKA,GAAyB,GAC3B,KAAKF,GAAK,KAAKU,GAAOA,EAAG,EAAE,SAAS,GAAK,KAAKT,IAAY,EAAIS,EAAG,GACtEA,EAAG,EAAE,SAAS,EAAI,KAAKT,IAAYS,EAAG,EAAI,CAC5C,CACD,CAEQ,KAAKD,EAAkB,CAC9B,KAAKP,GAAmB,GAExB,IAAMa,EAAYN,EAAK,KAAKV,GAC5B,QAAWW,KAAM,KAAKV,GAAM,CAC3B,IAAIgB,EAAYD,EACZ,KAAKd,KAAaS,EAAG,EAAE,SAAS,GAAK,KAAK,IAAIA,EAAG,CAAC,EAAI,KACzDM,EAAID,EAAI,KAAK,IAAI,KAAK,IAAIL,EAAG,CAAC,EAAI,IAAM,KAAK,GAAK,EAAE,GAEjD,KAAKT,KAAaS,EAAG,EAAE,SAAS,GAAK,KAAK,IAAIA,EAAG,CAAC,EAAI,KACzDM,EAAID,EAAI,KAAK,IAAI,KAAK,IAAI,EAAIL,EAAG,CAAC,EAAI,IAAM,KAAK,GAAK,EAAE,GAErDA,EAAG,EAAE,SAAS,GAAK,KAAKT,GAC3BS,EAAG,EAAI,KAAK,IAAI,EAAGA,EAAG,EAAIM,CAAC,EAE3BN,EAAG,EAAI,KAAK,IAAI,EAAGA,EAAG,EAAIM,CAAC,EAE5BN,EAAG,EAAIO,EAAaP,EAAG,CAAC,CACzB,CACA,IAAIQ,EAA2B,GAC3BC,EAAkB,EACtB,QAASb,EAAY,KAAKN,GAAK,OAAS,EAAG,GAAKM,EAAGA,GAAK,EAAG,CAC1D,IAAMI,EAAW,KAAKV,GAAKM,CAAC,EACxB,EAAII,EAAG,GAAKA,EAAG,EAAI,IACtBQ,EAAkB,IAEnB,IAAME,EAAiBV,EAAG,EAAE,SAAS,IAAM,KAAKT,GAChDS,EAAG,EAAE,SAAS,KAAK,SAASU,EAAOV,EAAG,EAAGQ,CAAe,CAAC,EAEzD,IAAMG,EAAY,EAAIX,EAAG,EACrBS,EAAUE,GACbX,EAAG,EAAIO,EAAaI,EAAIF,CAAO,EAC/BA,EAAUE,GAEVX,EAAG,EAAI,CAET,CACA,KAAK,OAAO,CACb,CAEQ,SAASU,EAAgBE,EAAWJ,EAAkC,CAC7E,OAAIA,EAAwBE,EAAQG,EAAOC,EACvCJ,GAASE,IAAM,EAAUG,EACtB,EACR,CAED,ECrFO,IAAMC,EAAN,cAA6BC,CAAW,CAE9CC,GACAC,GACAC,GAA2B,EAC3BC,GAA4B,GAE5B,YAAYC,EAAaC,EAAkB,CAC1C,MAAM,EACN,KAAKL,GAAYK,EAEjB,KAAKJ,GAAOG,EAAG,IAAI,CAACE,EAAGC,KAAO,CAC7B,EAAGD,EACH,EAAG,EACH,EAAGC,IAAM,EAAI,EAAI,CAClB,EAAE,EACF,KAAK,OAAO,EACZC,EAAqB,CAACC,EAAYC,IAAqB,KAAK,KAAKA,CAAE,CAAC,CACrE,CAEQ,QAAe,CACtB,QAAWC,KAAM,KAAKV,GACrBU,EAAG,EAAE,QAAQ,EAAE,MAAM,YAAYC,EAAe,IAAID,EAAG,EAAI,KAAK,QAAQ,CAAC,CAAC,GAAG,CAE/E,CAEA,WAAWE,EAAaC,EAAoB,CAC3C,KAAKZ,GAAmBW,EACxB,KAAKV,GAAmB,EACzB,CAEA,iBAA2B,CAC1B,OAAI,KAAKA,GAAyB,GAC3B,KAAKF,GAAK,KAAKU,GAAOA,EAAG,EAAE,SAAS,IAAM,KAAKT,IAAYS,EAAG,EAAI,GACvEA,EAAG,EAAE,SAAS,IAAM,KAAKT,IAAY,EAAIS,EAAG,CAC9C,CACD,CAEQ,KAAKD,EAAkB,CAC9B,KAAKP,GAAmB,GAExB,IAAMY,EAAYL,EAAK,KAAKV,GAC5B,QAAWW,KAAM,KAAKV,GAAM,CAC3B,IAAMe,EAAiBL,EAAG,EAAE,SAAS,IAAM,KAAKT,GAC5Cc,EACHL,EAAG,EAAI,KAAK,IAAI,EAAGA,EAAG,EAAII,CAAC,EAE3BJ,EAAG,EAAI,KAAK,IAAI,EAAGA,EAAG,EAAII,CAAC,EAE5BJ,EAAG,EAAIM,EAAaN,EAAG,CAAC,EACxBA,EAAG,EAAE,SAAS,KAAK,SAASK,EAAOL,EAAG,CAAC,CAAC,CACzC,CACA,KAAK,OAAO,CACb,CAEQ,SAASK,EAAgBE,EAAmB,CACnD,OAAIA,IAAM,EAAUC,EAChB,EAAID,EAAUF,EAAQI,EAAOC,EAC1B,EACR,CAED,ECnDA,IAAMC,GAAc,iBACdC,GAAc,SAEdC,GAAc,QACdC,GAAc,OACdC,GAAc,QACdC,GAAc,SAEdC,GAAsB,gBACtBC,GAAsB,kBACtBC,GAAsB,oBAEtBC,GAAsB,qBACtBC,GAAsB,gBAEtBC,GAAsB,oBACtBC,GAAsB,oBAEtBC,GAAuB,sBACvBC,GAAuB,sBACvBC,GAAuB,oBAEvBC,GAAiB,gBAEVC,GAAN,MAAMC,CAAc,CAE1B,OAAO,OAAOC,EAAyC,CACtD,GAAIA,EAAI,CACP,IAAMC,EAAwB,SAAS,eAAeD,CAAE,EACxD,GAAIC,EACH,OAAO,IAAIF,EAAcE,CAAC,CAE5B,KACC,SAAWA,KAAK,SAAS,uBAAuBpB,EAAE,EACjD,IAAIkB,EAAcE,CAAgB,EAGpC,OAAO,IACR,CAESC,GAEAC,GACAC,GACAC,GACAC,GAEAC,GACAC,GAEAC,GACAC,GACAC,GAETC,GAA4B,CAAC,EAC7BC,GAAmB,EACnBC,GAAoB,CAAC,EACrBC,GAEAC,GAAwC,KAExCC,GAAiC,KACjCC,GAAiC,KACjCC,GAAiC,KACjCC,GAAiC,KAEjCC,GAAyB,EACzBC,GAAyB,EACzBC,GAAyB,GAEzB,YAAYC,EAAmB,CAC9B,KAAKtB,GAAQsB,EAEb,KAAKrB,GAAoBsB,EAAuB,KAAKvB,GAAOf,GAAgB,MAAM,EAClF,KAAKiB,GAAoBsB,EAAqB,KAAKxB,GAAOd,GAAkB,GAAI,EAChF,KAAKiB,GAAoBqB,EAAqB,KAAKxB,GAAOb,GAAoB,GAAI,EAElF,IAAMsC,EAAqBC,EAAqB,KAAK1B,GAAOZ,GAAqB,IAAI,EACrF,KAAKgB,GAAsBqB,IAAO,GAAQ,EAAIE,EAAsBL,EAAMjC,GAAgBoC,IAAO,GAAO,GAAK,CAAC,EAE9G,KAAKpB,GAAoBqB,EAAqB,KAAK1B,GAAOV,GAAoB,EAAK,EACnF,KAAKgB,GAAoBoB,EAAqB,KAAK1B,GAAOT,GAAoB,EAAK,EAEnF,KAAKgB,GAAoBmB,EAAqB,KAAK1B,GAAOR,EAAoB,EAC9E,KAAKgB,GAAoBkB,EAAqB,KAAK1B,GAAOP,EAAoB,EAC9E,KAAKgB,GAAoBiB,EAAqB,KAAK1B,GAAON,EAAkB,EAE5E,IAAMkC,EAAqBD,EAAsB,KAAK3B,GAAOL,GAAgB,GAAG,EAI1EkC,EAAO,KAAK7B,GAAM,cAA2B,IAAMpB,EAAU,EACnE,GAAI,CAACiD,EAAI,CACR,QAAQ,MAAM,oBAAoB,KAAK7B,GAAM,EAAE,cAAc,EAC7D,MACD,CAIA,GAHA,KAAKU,GAAQ,MAAM,KAAKmB,EAAG,qBAAqB,IAAI,CAAC,EACrD,KAAKlB,GAAQ,KAAKD,GAAK,OAEnB,KAAKC,KAAU,EAAG,CACrB,QAAQ,MAAM,oBAAoB,KAAKX,GAAM,EAAE,kBAAkB,EACjE,MACD,CAEA,QAAW8B,KAAM,KAAKpB,GACrBoB,EAAG,QAAQ,WAAaA,EAAG,QAAQ,YAAc,KAAK7B,GAEnD,KAAKI,KACR,KAAKa,GAAc,IAAIa,EAAW,KAAK/B,GAAO,KAAKU,EAAI,GAEpD,KAAKJ,KACRuB,EAAG,QAAQ,cAAgB,QAE5B,KAAK,WAAW,EAChBG,EAAY,KAAKhC,EAAK,EACtBiC,EAA4B,KAAKjC,GAAOlB,GAAU8C,CAAU,EAC5DM,EAAuB,IAAqB,KAAK,MAAM,CAAC,CACzD,CAEA,eAAgB,CACf,MAAO,CACN,KAAOC,GAAsB,KAAK,WAAWA,EAAK,KAAKxB,KAAU,EAAI,EAAI,CAAC,EAC1E,KAAM,IAAY,KAAK,WAAY,KAAKQ,KAAY,KAAKR,GAAQ,EAAK,EAAmB,KAAKQ,GAAU,EAAK,CAAC,EAC9G,KAAM,IAAY,KAAK,WAAY,KAAKA,KAAY,EAAkB,KAAKR,GAAQ,EAAM,KAAKQ,GAAU,EAAI,EAAE,EAE9G,gBAAkBiB,GAAyB,CAAE,KAAKtB,GAAmBsB,CAAI,CAC1E,CACD,CAMQ,YAAmB,CACtB,KAAKnC,KAAgB,UAAY,EAAI,KAAKU,IAAS,KAAKA,GAAQ,IACnE,KAAK,SAAS,EACV,KAAKA,KAAU,GAClB,KAAK,SAAS,GAGhB,IAAM0B,EAAoB,KAAKrC,GAAM,UAAU,SAAShB,EAAU,EAclE,OAZA,KAAK4B,GAAU,KAAKF,GAAK,IAAI,CAACoB,EAAIQ,KAC7BD,GAAUP,EAAG,UAAU,IAAI9C,EAAU,EAClC,IAAIuD,EAAMT,EAAIQ,EAAI,KAAK3B,GAAO,KAAKA,EAAK,EAC/C,EAEU,IAAI,eAAe,IAAY,CACzC,QAAW6B,KAAK,KAAK5B,GACpB4B,EAAE,SAAS,CAEb,CAAC,EACE,QAAQ,KAAKxC,EAAK,EAEb,KAAKC,GAAa,CACzB,QACA,IAAK,OAAU,KAAKY,GAAU,IAAI4B,EAAe,KAAK7B,GAAS,KAAKT,EAAS,EAAG,MAChF,IAAK,QAAU,KAAKU,GAAU,IAAI6B,EAAgB,KAAK9B,GAAS,KAAKT,EAAS,EAAG,MACjF,IAAK,SAAU,KAAKU,GAAU,IAAI8B,EAAiB,KAAK/B,GAAS,KAAKT,EAAS,EAAG,KACnF,CACD,CAEQ,UAAiB,CACxB,QAASmC,EAAY,EAAGA,EAAI,KAAK3B,GAAO2B,GAAK,EAAG,CAC/C,IAAMR,EAAoB,KAAKpB,GAAK4B,CAAC,EAC/BM,EAAMd,EAAG,UAAU,EAAI,EAC7B,KAAKpB,GAAK,KAAKkC,CAAG,EAClBd,EAAG,YAAY,YAAYc,CAAG,CAC/B,CACD,CAEA,MAAc,OAAuB,CACpC,GAAI,EAAI,KAAKjC,GAAO,CACnB,IAAMyB,EAAK,CAACD,EAAaU,IAAoB,KAAK,WAAWV,EAAKU,CAAG,EAErE,IAAIC,EAAW,KAAK9C,GAAO,KAAKG,GAAWiC,EAAI,KAAK7B,EAAiB,EACrE,KAAKU,GAAc,IAAI8B,EAAW,KAAK/C,GAAO,KAAKW,GAAOyB,EAAI,KAAK5B,EAAiB,EACpF,KAAKO,GAAc,IAAIiC,EAAS,KAAKhD,GAAO,KAAKU,GAAM,KAAKC,GAAOyB,EAAI,KAAK3B,EAAe,CAC5F,CACA,KAAKO,GAAa,IAAIiC,EAAU,KAAKjD,GAAO,KAAKW,EAAK,GAEhC,MAAM,QAAQ,IAAI,KAAKC,GAAQ,IAAK4B,GAAkBA,EAAE,SAAS,CAAC,CAAC,GAClF,MAAOU,GAAyBA,IAAW,EAAI,GACrD,KAAK,WAAW,EAAG,CAAC,EACpB,WAAW,IAAY,CACtB,KAAKlD,GAAM,UAAU,IAAInB,EAAS,EAClCsE,EAAqB,CAACC,EAAYC,IAAsB,KAAK,KAAK,CAAC,CACpE,EAAG,GAAG,EACN,QAAQ,IAAI,oBAAoB,KAAKrD,GAAM,EAAE,yBAAyB,GAEtE,QAAQ,IAAI,oBAAoB,KAAKA,GAAM,EAAE,yBAAyB,CAExE,CAMQ,WAAWmC,EAAaU,EAAuB,CAatD,GAZIV,IAAQ,KACXA,EAAMmB,EAAW,KAAKnC,GAAU0B,EAAK,KAAKlC,EAAK,GAEhD,KAAKO,IAAa,WAAWiB,CAAG,EAChC,KAAKlB,IAAa,WAAWkB,CAAG,EAChC,KAAKnB,IAAY,WAAWmB,CAAG,EAC/B,KAAKpB,IAAW,WAAWoB,CAAG,EAE9B,KAAKtB,GAAQ,WAAWsB,EAAKU,CAAG,EAChC,KAAK1B,GAAagB,EAClB,KAAKd,GAAa,GAEd,EAAI,KAAKV,GAAO,CACnB,IAAM4C,EAAa,KAAK3C,GAAQuB,CAAG,GAAG,YAAY,KAAKjC,GAAU,KAAKC,GAAW,KAAKC,EAAW,GAAK,KAAKF,GAC3G,KAAKkB,GAAgB,OAAO,YAAY,IAAI,EAAImC,CACjD,CACD,CAEQ,MAAa,CAKpB,GAJI,KAAKlC,IAAc,CAAC,KAAKR,GAAQ,gBAAgB,IACpD,KAAKC,KAAmB,EACxB,KAAKO,GAAa,IAEf,SAAO,YAAY,IAAI,EAAI,KAAKD,IAGpC,IAAI,CAAC,KAAKpB,GAAM,UAAU,SAASlB,EAAQ,GAAK,KAAKkB,GAAM,UAAU,SAASjB,EAAS,EAAG,CACzF,KAAKqC,GAAgB,OAAO,YAAY,IAAI,EAAI,IAChD,MACD,CACA,KAAKA,GAAgB,OAAO,UAC5B,KAAK,WAAW,GAAI,CAAC,EACtB,CAED",
  "names": ["getStylePropertyBool", "elm", "prop", "def", "v", "getPropValue", "getStylePropertyFloat", "getStylePropertyString", "getStylePropertyTime", "vl", "m", "n", "wrapAround", "n", "size", "snapToBinary", "e", "detectTouch", "elm", "isTouch", "repeatAnimationFrame", "fn", "tl", "cb", "t", "callAfterDocumentReady", "initializeViewportDetection", "root", "cls", "offset", "es", "r", "h", "waitForAllImages", "is", "i", "resolve", "reject", "waitForAllVideos", "vs", "v", "CLS_BG", "CLS_VISIBLE", "Background", "#bs", "root", "lis", "base", "li", "img", "bg", "idx", "t", "CLS_NAVIGATION", "CLS_ACTIVE", "CLS_TOUCH", "Navigation", "#fs", "#bs", "root", "timeTran", "fn", "forced", "base", "CLS_NAVIGATION", "CLS_TOUCH", "bs", "b0", "b1", "b", "i", "dir", "flag", "CLS_ACTIVE", "delay", "sts", "px", "e", "resetTouch", "t", "x", "CLS_PAGINATION", "CLS_VISIBLE", "Pagination", "#rs", "root", "size", "fn", "forced", "base", "e", "dir", "i", "r", "idx", "t", "CLS_SLIDE_CNT", "CLS_SLIDE_IDX", "Indicator", "#ies", "root", "size", "ces", "elm", "idx", "CLS_SELECTOR", "CLS_VISIBLE", "Selector", "#ts", "root", "lis", "size", "fn", "forced", "base", "e", "dir", "i", "li", "r", "img", "th", "idx", "t", "CLS_CAPTION", "CLS_SUBTITLE", "CLS_CIRCLE", "CLS_LINE", "CLS_CUSTOM", "DS_KEY_STATE", "Caption", "_Caption", "li", "elm", "#base", "#type", "base", "d", "ns", "n", "e", "cs", "ref", "div", "c", "span", "state", "_prev", "isPhone", "CLS_IMAGE", "CLS_VIDEO", "CLS_SCROLL", "CLS_DUAL", "DS_KEY_STATE", "Mount", "li", "state", "_prev", "timeDur", "_timeTran", "_randomRate", "MountImage", "Mount", "#isLoaded", "li", "CLS_IMAGE", "CLS_SCROLL", "is0", "is1", "loaded", "CLS_DUAL", "waitForAllImages", "timeDur", "_timeTran", "randomRate", "MountVideo", "Mount", "#video", "#isLoaded", "li", "totalSize", "CLS_VIDEO", "vs0", "waitForAllVideos", "state", "prev", "_timeDur", "timeTran", "_randomRate", "DS_KEY_STATE", "Slide", "#li", "#idx", "#mnt", "#cap", "li", "idx", "totalSize", "Caption", "hasVideo", "MountVideo", "MountImage", "state", "prev", "timeDur", "timeTran", "randomRate", "S_DISPLAY", "S_IN", "S_OUT", "CP_MOTION", "CP_VISIBILITY", "Transition", "TransitionScroll", "Transition", "#its", "#timeTran", "#current", "#shift", "#speed", "#sideSize", "ss", "timeTran", "off", "_s", "i", "wrapAround", "repeatAnimationFrame", "_t", "dt", "it", "CP_MOTION", "CP_VISIBILITY", "idx", "dir", "minDx", "tar", "cur", "r", "d", "it0", "ltN", "ul", "e", "snapToBinary", "getOverlapRatio", "isCur", "S_DISPLAY", "S_IN", "S_OUT", "target", "base", "rt", "rb", "x0", "x1", "TransitionSlide", "Transition", "#timeTran", "#its", "#current", "#beforeFirstStep", "ss", "timeTran", "s", "i", "repeatAnimationFrame", "_t", "dt", "it", "CP_MOTION", "CP_VISIBILITY", "idx", "_dir", "r", "l", "snapToBinary", "isTransitioning", "maxArea", "isCur", "a", "m", "S_IN", "S_OUT", "S_DISPLAY", "TransitionFade", "Transition", "#timeTran", "#its", "#current", "#beforeFirstStep", "ss", "timeTran", "s", "i", "repeatAnimationFrame", "_t", "dt", "it", "CP_VISIBILITY", "idx", "_dir", "r", "isCur", "snapToBinary", "v", "S_DISPLAY", "S_IN", "S_OUT", "NS", "CLS_SLIDES", "CLS_START", "CLS_VIEW", "CLS_PAUSE", "CLS_SCROLL", "CP_EFFECT_TYPE", "CP_DURATION_TIME", "CP_TRANSITION_TIME", "CP_RANDOMIZE_TIMING", "CP_RANDOM_RATE", "CP_SHOW_BACKGROUND", "CP_SHOW_SIDE_SLIDE", "CP_CREATE_NAVIGATION", "CP_CREATE_PAGINATION", "CP_CREATE_SELECTOR", "CP_VIEW_OFFSET", "SliderSimplex", "_SliderSimplex", "id", "r", "#root", "#effectType", "#timeDur", "#timeTran", "#randomRate", "#showBackground", "#showSideSlide", "#createNavigation", "#createPagination", "#createSelector", "#lis", "#size", "#slides", "#effect", "#onTransitionEnd", "#selector", "#indicator", "#pagination", "#background", "#curIdx", "#nextStepTime", "#isWaiting", "root", "getStylePropertyString", "getStylePropertyTime", "rt", "getStylePropertyBool", "getStylePropertyFloat", "viewOffset", "ul", "li", "Background", "detectTouch", "initializeViewportDetection", "callAfterDocumentReady", "idx", "fn", "isScroll", "i", "Slide", "s", "TransitionFade", "TransitionSlide", "TransitionScroll", "nls", "dir", "Navigation", "Pagination", "Selector", "Indicator", "result", "repeatAnimationFrame", "_t", "_dt", "wrapAround", "dt"]
}
