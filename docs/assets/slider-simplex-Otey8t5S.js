var It=Object.defineProperty;var at=r=>{throw TypeError(r)};var Nt=(r,t,s)=>t in r?It(r,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):r[t]=s;var _=(r,t,s)=>Nt(r,typeof t!="symbol"?t+"":t,s),ct=(r,t,s)=>t.has(r)||at("Cannot "+s);var e=(r,t,s)=>(ct(r,t,"read from private field"),s?s.call(r):t.get(r)),l=(r,t,s)=>t.has(r)?at("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(r):t.set(r,s),c=(r,t,s,n)=>(ct(r,t,"write to private field"),n?n.call(r,s):t.set(r,s),s);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function s(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=s(i);fetch(i.href,o)}})();function R(r,t,s=!1){const n=nt(r,t);if(!n.length)return s;if(typeof n!="string")return!!n;try{return JSON.parse(n.toLowerCase())===!0}catch{return n.length!==0}}function lt(r,t,s=0){const n=nt(r,t);return n.length?parseFloat(n):s}function bt(r,t,s=""){const n=nt(r,t);return n.length?typeof n=="string"?n:String(n):s}function nt(r,t){let s=getComputedStyle(r).getPropertyValue(t).trim();return(s.at(0)==='"'&&s.at(-1)==='"'||s.at(0)==="'"&&s.at(-1)==="'")&&(s=s.slice(1,-1)),s}function At(r,t){const s=()=>{t()||setTimeout(s,r)};setTimeout(s,r)}function Pt(r){0<navigator.maxTouchPoints&&r.addEventListener("pointerenter",t=>{const s=t.pointerType!=="mouse";r.classList[s?"add":"remove"]("touch")},{once:!0})}function Rt(r){document.readyState==="loading"?document.addEventListener("DOMContentLoaded",r):setTimeout(r,0)}function ht(r,t){let s=null,n;return{set:()=>new Promise(i=>{n=i,s=setTimeout(async()=>{s=null,await t(),i()},r)}),clear:()=>{s&&(clearTimeout(s),s=null,n())}}}async function Z(r){return new Promise(t=>setTimeout(t,r))}function Dt(r,t,s){new IntersectionObserver(i=>{for(const o of i)r.classList[o.isIntersecting?"add":"remove"](t)},{rootMargin:`${s}px 0px`}).observe(r),document.addEventListener("visibilitychange",()=>{if(document.visibilityState!=="hidden"){const o=r.getBoundingClientRect(),a=window.innerHeight;(0<o.top&&o.top<a||0<o.bottom&&o.bottom<a)&&r.classList.add(t)}else r.classList.remove(t)})}const Ot="background",ut="visible";var N;class zt{constructor(t,s){l(this,N,[]);const n=document.createElement("div");n.classList.add(Ot),t.insertBefore(n,t.firstChild);for(const i of s){let o;const a=i.querySelector("img");a?o=a.cloneNode(!1):o=document.createElement("div"),n.appendChild(o),e(this,N).push(o)}}transition(t){for(const s of e(this,N))s.classList.remove(ut);e(this,N)[t]&&e(this,N)[t].classList.add(ut)}}N=new WeakMap;const x="navigation",j="active",J="disabled",dt=32;var C,O,y;class Mt{constructor(t,s,n,i=!0){l(this,C);l(this,O);l(this,y);let o=t.querySelector("."+x);!o&&i&&(o=document.createElement("div"),o.classList.add(x),t.appendChild(o)),o&&(c(this,C,o),c(this,O,[async()=>await n(-1,-1),async()=>await n(-1,1)]),c(this,y,this.createButtons()),o&&(o.addEventListener("mouseenter",()=>this.setActive(!t.classList.contains("touch"))),o.addEventListener("mouseleave",()=>this.setActive(!1)),window.ontouchstart===null&&this.initializeFlick(s*1e3/2)))}createButtons(){let t=e(this,C).querySelectorAll(":scope > button");if(t.length!==2){const s=document.createElement("button"),n=document.createElement("button");e(this,C).appendChild(s),e(this,C).appendChild(n),t=[s,n]}for(let s=0;s<2;s+=1)t[s].classList.add(x),t[s].addEventListener("click",async()=>this.doClick(s));return t}async doClick(t){e(this,y)[0].classList.add(J),e(this,y)[1].classList.add(J),await e(this,O)[t](),e(this,y)[0].classList.remove(J),e(this,y)[1].classList.remove(J)}setActive(t){e(this,y)[0].classList[t?"add":"remove"](j),e(this,y)[1].classList[t?"add":"remove"](j)}initializeFlick(t){const s=[0,0];let n=Number.NaN;e(this,C).addEventListener("touchstart",i=>{n=i.touches[0].pageX}),e(this,C).addEventListener("touchmove",i=>{const o=this.getFlickDir(n,i);o!==-1&&(i.cancelable===!0&&i.preventDefault(),e(this,O)[o](),e(this,y)[o]&&(clearTimeout(s[o]),e(this,y)[o].classList.add(j),s[o]=setTimeout(()=>e(this,y)[o].classList.remove(j),t)),n=Number.NaN)}),e(this,C).addEventListener("touchend",()=>{n=Number.NaN})}getFlickDir(t,s){if(Number.isNaN(t))return-1;const n=s.changedTouches[0].pageX;return t+dt<n?0:n<t-dt?1:-1}}C=new WeakMap,O=new WeakMap,y=new WeakMap;const ft="pagination",pt="visible";var b;class Bt{constructor(t,s,n,i=!0){l(this,b,[]);let o=t.querySelector("."+ft);if(!o&&i&&(o=document.createElement("div"),o.classList.add(ft),t.appendChild(o)),!o)return;const a=this.createElement(o),p=s===2?1:0;for(let f=0;f<s;f+=1)a.appendChild(this.createBullet(n,f,p))}createElement(t){let s=t.querySelector(":scope > ol");return s||(s=document.createElement("ol"),t.appendChild(s)),s}createBullet(t,s,n){const i=document.createElement("li");return i.addEventListener("click",()=>t(s,n)),e(this,b).push(i),i}transition(t){for(const s of e(this,b))s.classList.remove(pt);e(this,b)[t]&&e(this,b)[t].classList.add(pt)}}b=new WeakMap;const qt="slide-count",Vt="slide-index";var z;class Ft{constructor(t,s){l(this,z,[]);const n=t.querySelectorAll("."+qt);for(const i of n)i.innerHTML=""+s;c(this,z,t.querySelectorAll("."+Vt));for(const i of e(this,z))i.innerHTML="1"}transition(t){for(const s of e(this,z))s.innerHTML=""+(t+1)}}z=new WeakMap;const mt="selector",Lt="visible";var A;class kt{constructor(t,s,n,i,o=!0){l(this,A,[]);let a=t.querySelector("."+mt);if(!a&&o&&(a=document.createElement("div"),a.classList.add(mt),t.appendChild(a)),!a)return;const p=this.createElement(a),f=n===2?1:0;for(let h=0;h<n;h+=1)p.appendChild(this.createThumbnail(s[h],i,h,f))}createElement(t){let s=t.querySelector(":scope > ol");return s||(s=document.createElement("ol"),t.appendChild(s)),s}createThumbnail(t,s,n,i){const o=document.createElement("li");let a;const p=t.querySelector("img");return p?a=p.cloneNode(!1):a=document.createElement("div"),o.appendChild(a),o.addEventListener("click",()=>s(n,i)),e(this,A).push(o),o}transition(t){for(const s of e(this,A))s.classList.remove(Lt);e(this,A)[t]&&e(this,A)[t].classList.add(Lt)}}A=new WeakMap;const _t="caption",D="subtitle",tt="circle",st="line",et="custom";var T,w;const rt=class rt{constructor(t){l(this,T);l(this,w,D);c(this,T,t),t.classList.contains(_t)||t.classList.add(_t),!t.classList.contains(st)&&!t.classList.contains(tt)&&!t.classList.contains(et)&&t.classList.add(D),t.classList.contains(st)&&c(this,w,st),t.classList.contains(tt)&&c(this,w,tt),t.classList.contains(D)&&c(this,w,D),t.classList.contains(et)&&c(this,w,et),this.wrap(t);for(const s of t.querySelectorAll(":scope > div"))this.wrapWithSpan(s)}static create(t){const s=t.querySelector(":scope > div, :scope > a > div");return s?new rt(s):null}wrap(t){var n;const s=[];for(const i of Array.from(t.childNodes))i.nodeType===1?i.tagName==="DIV"?this.wrapAndReplaceNodes(t,s,i):i.tagName==="BR"?(this.wrapAndReplaceNodes(t,s,i),t.removeChild(i)):s.push(i):(((n=i.nodeValue)==null?void 0:n.trim())??"").length&&s.push(i);this.wrapAndReplaceNodes(t,s,null)}wrapAndReplaceNodes(t,s,n){if(s.length){const i=document.createElement("div");for(const o of s)i.appendChild(t.removeChild(o));t.insertBefore(i,n),s.length=0}}wrapWithSpan(t){const s=document.createElement("span");for(const n of Array.from(t.childNodes))s.appendChild(t.removeChild(n));s.innerHTML=s.innerHTML.trim(),t.appendChild(s)}setState(t,s){s?e(this,T).classList.add(t):e(this,T).classList.remove(t)}onResize(){window.innerWidth<600?(e(this,T).classList.remove(e(this,w)),e(this,T).classList.add(D)):(e(this,T).classList.remove(D),e(this,T).classList.add(e(this,w)))}};T=new WeakMap,w=new WeakMap;let it=rt;const Ht="image",Xt="video",yt="scroll",$t="dual",Wt=10;class Et{constructor(t){_(this,"base");this.base=document.createElement("div");const s=t.querySelector("a")??t;s.insertBefore(this.base,s.firstChild)}setState(t,s){s?this.base.classList.add(t):this.base.classList.remove(t)}transition(t,s){}display(t){}getDuration(t,s,n){return t}onResize(){return!0}}class Gt extends Et{constructor(t){super(t),this.base.classList.add(Ht),t.classList.contains(yt)&&this.base.classList.add(yt);const s=t.querySelectorAll(":scope > img, :scope > a > img");s.length&&(this.base.appendChild(s[0]),1<s.length&&(this.base.classList.add($t),this.base.appendChild(s[1])))}getType(){return"image"}getDuration(t,s,n){if(n){const i=1+.01*Wt*(1-Math.random()*2);return t*i}return t}}var m,M;class Ut extends Et{constructor(s){super(s);l(this,m);l(this,M,null);this.base.classList.add(Xt);const n=s.querySelectorAll(":scope > video, :scope > a > video");if(n.length===1){const i=n[0];i.muted=!0,i.playsInline=!0,i.setAttribute("muted","true"),i.setAttribute("playsinline","true"),i.addEventListener("loadedmetadata",()=>{const o=i.clientWidth/i.clientHeight;c(this,M,(0|o*1e3)/1e3)}),c(this,m,i),this.base.appendChild(i)}}getType(){return"video"}transition(s,n){s&&(e(this,m).setAttribute("autoplay","true"),e(this,m).play(),n===1&&e(this,m).setAttribute("loop","true"))}display(s){s||(e(this,m).pause(),e(this,m).currentTime=0)}getDuration(s,n,i){return e(this,m).duration-n}onResize(){if(!e(this,M))return!1;const s=this.base.clientWidth/this.base.clientHeight;return e(this,M)<s?(e(this,m).classList.remove("height"),e(this,m).classList.add("width")):(e(this,m).classList.remove("width"),e(this,m).classList.add("height")),!0}}m=new WeakMap,M=new WeakMap;const gt="pre-display",St="display";var g,E;class Kt{constructor(t,s=!0){l(this,g);l(this,E);c(this,E,s?it.create(t):null),t.querySelector(":scope > video, :scope > a > video")?c(this,g,new Ut(t)):c(this,g,new Gt(t))}getType(){return e(this,g).getType()}onResize(){return e(this,g).onResize()?(e(this,E)&&e(this,E).onResize(),!0):!1}onPreDisplay(t){e(this,g).setState(gt,t),e(this,E)&&e(this,E).setState(gt,t)}transition(t,s){e(this,g).transition(t,s)}display(t){e(this,g).setState(St,t),e(this,E)&&e(this,E).setState(St,t),e(this,g).display(t)}getDuration(t,s,n){return e(this,g).getDuration(t,s,n)}}g=new WeakMap,E=new WeakMap;class ot{constructor(t,s,n){_(this,"_size");_(this,"_lis");_(this,"_time");this._size=t,this._lis=s,this._time=n}}class Yt extends ot{constructor(t,s,n){super(t,s,n);for(let i=0;i<this._size;i+=1)this._lis[i].style.opacity=i===0?"1":"0";setTimeout(()=>{for(let i=0;i<this._size;i+=1)this._lis[i].style.transition="opacity "+this._time+"s"},10)}async transition(t,s){for(let n=0;n<this._size;n+=1)this._lis[n].style.opacity=n===t?"1":"0",this._lis[n].style.pointerEvents=n===t?"auto":"none";await Z(this._time*1e3)}}class jt extends ot{constructor(t,s,n){super(t,s,n);for(let i=0;i<this._size;i+=1)this._lis[i].style.transform="translateX("+(i?100:0)+"%)";setTimeout(()=>{for(let i=0;i<this._size;i+=1)this._lis[i].style.opacity="1",this._lis[i].style.transition="transform "+this._time+"s"},10)}async transition(t,s){for(let n=0;n<this._size;n+=1)this._lis[n].style.transform=n<=t?"translateX(0%)":"translateX(100%)";await Z(this._time*1e3)}}class Jt extends ot{constructor(s,n,i){super(s,n,i);_(this,"_cur",0);_(this,"_curPsd",0);_(this,"_doing",!1);_(this,"_queue",[]);const o=this.calcPosition(0,1);for(let a=0;a<this._lis.length;a+=1)this._lis[a].style.opacity="1",this._lis[a].style.transform=`translateX(${o[a]*100}%)`}async transition(s,n){if(this._queue.push((i,o)=>this.doTransition(i,o,s,n)),!this._doing){for(this._doing=!0;this._queue.length;){const i=this._queue.shift();[this._cur,this._curPsd]=await i(this._cur,this._curPsd)}this._doing=!1}}async doTransition(s,n,i,o){if(o===0&&s!==i){const h=s<i?i-s:i+this._size-s;o=(i<s?s-i:s+this._size-i)<h?-1:1}let a=this.calcPosition(n,o);for(let h=0;h<this._lis.length;h+=1)this._lis[h].style.transition="",this._lis[h].style.transform=`translateX(${a[h]*100}%)`;await Z(100);let p=0;o===1&&(p=i-s),o===-1&&(p=s-i),p<0&&(p+=this._size);let f=n;for(let h=0;h<p;h+=1)[a,f]=this.shift(a,f,o,this._time/p,this.getTransition(p,h)),await Z(Math.floor(this._time*1e3/p));return[i,f]}getTransition(s,n){if(s===1)return"ease";if(s===2){if(n===0)return"ease-in";if(n===1)return"ease-out"}return"linear"}shift(s,n,i,o,a="ease"){const p=this._lis.length;let f=n+i;p-1<f&&(f=0),f<0&&(f=p-1);const h=this.calcPosition(f,i);for(let I=0;I<p;I+=1){const wt=Math.abs(s[I]-h[I])===1?`transform ${o}s ${a}`:"";this._lis[I].style.transition=wt,this._lis[I].style.transform=`translateX(${h[I]*100}%)`}return[h,f]}calcPosition(s,n){const i=this._lis.length,o=new Array(i),a=n!==-1?Math.ceil((i-1)/2):Math.floor((i-1)/2),p=i-1-a;for(let f=1;f<=a;f+=1){let h=s+f;i-1<h&&(h-=i),o[h]=f}for(let f=1;f<=p;f+=1){let h=s-f;h<0&&(h+=i),o[h]=-f}return o[s]=0,o}}const Zt="slider-simplex",Qt="slides",xt="start",vt="view",ts="pause",Ct="scroll",ss=100,es="--effect-type",is="--duration-time",ns="--transition-time",os="--randomize-timing",rs="--show-background",as="--show-side-slide",cs="--create-navigation",ls="--create-pagination",hs="--create-selector";var u,B,q,v,$,W,G,U,K,Y,L,d,S,P,V,F,k,H,X;const Q=class Q{constructor(t){l(this,u);l(this,B);l(this,q);l(this,v);l(this,$);l(this,W);l(this,G);l(this,U);l(this,K);l(this,Y);l(this,L);l(this,d);l(this,S,[]);l(this,P);l(this,V,null);l(this,F,null);l(this,k,null);l(this,H,null);l(this,X,null);_(this,"curIdx",0);_(this,"stStep",null);_(this,"lastTime",0);_(this,"stReserve",null);c(this,u,t),c(this,B,bt(e(this,u),es,"fade")),c(this,q,lt(e(this,u),is,8)),c(this,v,lt(e(this,u),ns,1)),c(this,$,R(e(this,u),os)),c(this,W,R(e(this,u),rs,!1)),c(this,G,R(e(this,u),as,!1)),c(this,U,R(e(this,u),cs)),c(this,K,R(e(this,u),ls)),c(this,Y,R(e(this,u),hs));const s=e(this,u).querySelector("."+Qt);c(this,L,Array.from(s.getElementsByTagName("li"))),c(this,d,e(this,L).length),e(this,W)&&c(this,X,new zt(e(this,u),e(this,L))),e(this,G)&&(s.style.overflow="visible"),this.initSlides()&&At(100,()=>this.onResizeSlide()),Pt(e(this,u)),Dt(e(this,u),vt,ss),Rt(()=>this.onLoad())}static create(t){if(t){const s=document.getElementById(t);if(s)return new Q(s)}else for(const s of document.getElementsByClassName(Zt))new Q(s);return null}getController(){return{move:s=>this.transition(s,e(this,d)===2?1:0),next:()=>this.transition(this.curIdx===e(this,d)-1?0:this.curIdx+1,1),prev:()=>this.transition(this.curIdx===0?e(this,d)-1:this.curIdx-1,-1),onTransitionEnd:s=>{c(this,V,s)}}}initSlides(){e(this,B)==="scroll"&&1<e(this,d)&&e(this,d)<5&&(this.cloneLis(),e(this,d)===2&&this.cloneLis());const t=e(this,u).classList.contains(Ct);let s=!1;for(const i of e(this,L)){t&&i.classList.add(Ct);const o=new Kt(i);o.getType()==="video"&&(s=!0),e(this,S).push(o)}switch(new ResizeObserver(()=>this.onResizeSlide()).observe(e(this,u)),e(this,B)){case"scroll":c(this,P,new Jt(e(this,d),e(this,L),e(this,v)));break;case"slide":c(this,P,new jt(e(this,d),e(this,L),e(this,v)));break;case"fade":default:c(this,P,new Yt(e(this,d),e(this,L),e(this,v)));break}return s}cloneLis(){var t;for(let s=0;s<e(this,d);s+=1){const n=e(this,L)[s],i=e(this,L)[s].cloneNode(!0);e(this,L).push(i),(t=n.parentNode)==null||t.appendChild(i)}}onResizeSlide(){let t=!0;for(const s of e(this,S))s.onResize()||(t=!1);return t}onLoad(){if(1<e(this,d)){const t=(s,n)=>this.transition(s,n);new Mt(e(this,u),e(this,v),t,e(this,U)),c(this,H,new Bt(e(this,u),e(this,d),t,e(this,K))),c(this,F,new kt(e(this,u),e(this,L),e(this,d),t,e(this,Y)))}c(this,k,new Ft(e(this,u),e(this,d))),this.transition(0,0),setTimeout(()=>e(this,u).classList.add(xt),200),console.log(`Slider Simplex (#${e(this,u).id}): started`)}async transition(t,s){[t,s]=this.getIdxDir(t,s);const n=window.performance.now();if(s!==0&&n-this.lastTime<e(this,v)*1e3){this.stReserve&&clearTimeout(this.stReserve);const i=e(this,v)*1e3-(n-this.lastTime);this.stReserve=setTimeout(()=>this.transition(t,s),i);return}this.lastTime=n;for(let i=0;i<e(this,S).length;i+=1)e(this,S)[i].onPreDisplay(i%e(this,d)===t);for(let i=0;i<e(this,S).length;i+=1)e(this,S)[i].transition(i%e(this,d)===t,e(this,d));e(this,X)&&e(this,X).transition(t),e(this,H)&&e(this,H).transition(t),e(this,k)&&e(this,k).transition(t),e(this,F)&&e(this,F).transition(t),await e(this,P).transition(t,s),e(this,V)&&e(this,V).call(this),this.curIdx=t,this.display(t)}async display(t){for(let n=0;n<e(this,S).length;n+=1)e(this,S)[n].display(n%e(this,d)===t);if(e(this,d)===1)return;const s=e(this,S)[t].getDuration(e(this,q),e(this,v),e(this,$));this.stStep&&this.stStep.clear(),this.stStep=ht(Math.ceil(s*1e3),()=>this.step()),await this.stStep.set()}async step(){e(this,u).classList.contains(vt)&&!e(this,u).classList.contains(ts)?this.transition(-1,1):ht(e(this,q)*1e3,()=>this.step()).set()}getIdxDir(t,s){if(t===-1)t=this.curIdx+s,e(this,d)-1<t&&(t=0),t<0&&(t=e(this,d)-1);else if(s===0&&this.curIdx!==t){const n=this.curIdx<t?t-this.curIdx:t+e(this,d)-this.curIdx;s=(t<this.curIdx?this.curIdx-t:this.curIdx+e(this,d)-t)<n?-1:1}return[t,s]}};u=new WeakMap,B=new WeakMap,q=new WeakMap,v=new WeakMap,$=new WeakMap,W=new WeakMap,G=new WeakMap,U=new WeakMap,K=new WeakMap,Y=new WeakMap,L=new WeakMap,d=new WeakMap,S=new WeakMap,P=new WeakMap,V=new WeakMap,F=new WeakMap,k=new WeakMap,H=new WeakMap,X=new WeakMap;let Tt=Q;export{Tt as S};
